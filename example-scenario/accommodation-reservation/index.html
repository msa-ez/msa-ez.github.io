<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>AirBnB - msaez</title><meta name="gridsome:hash" content="ad03b77f3a22acc925e88542999af05c9f536573"><meta data-vue-meta="ssr" charset="utf-8"><meta data-vue-meta="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-meta="ssr" key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-meta="ssr" key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/templates-language/springboot-java-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/si-gpt/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/templates-language/python-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/on-prem-inst/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-advanced-hpa/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-advanced-ingress/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-advanced-istio/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-advanced-pvc/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/operation/ops-deploy-diagramming-basic-objects/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/model-driven/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/marketplace/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/k8s-modeling/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/started/key-features/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/infrastructure-modeling/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/templates-language/go-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/google-drive-examples/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/template-editor-custom-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/event-storming-tool/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/unit-test/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/started/event-storming-learning/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/template-editor/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/template-structure/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/info/partnership/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/info/pricing/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/cloud-ide-tool/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/development-practice/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/tutorial/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/started/domain-driven/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/chat-gpt/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/example-scenario/online-lecture/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/tool/attending-lectures/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/pub-sub/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/contact/question/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/oauth2with-keycloak/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/monolith-2-misvc/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/example-scenario/library-system/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/loop-conditional-statement/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/mock-server/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/example-scenario/food-delivery/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/global-helper/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/helper/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/info/company/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/gateway/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/designing-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/dp-cqrs/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/business/ddd-google-drive/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/business/eventstorming-fooddelivery/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/custom-template/custom-template/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/choreography-saga/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/development/cna-start/"><meta data-vue-meta="ssr" key="og:url" name="og:url" content="undefined/example-scenario/accommodation-reservation/"><meta data-vue-meta="ssr" name="description" content="undefined"><meta data-vue-meta="ssr" key="og:title" name="og:title" content="AirBnB"><meta data-vue-meta="ssr" key="twitter:title" name="twitter:title" content="AirBnB"><meta data-vue-meta="ssr" key="og:description" name="og:description" content="undefined"><meta data-vue-meta="ssr" key="twitter:description" name="twitter:description" content="undefined"><meta data-vue-meta="ssr" key="og:type" name="og:type" content="website"><meta data-vue-meta="ssr" key="twitter:card" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" key="og:image" name="og:image" content="undefined/logo.jpg"><meta data-vue-meta="ssr" key="twitter:image" name="twitter:image" content="undefined/logo.jpg"><link data-vue-meta="ssr" rel="icon" href="data:,"><link data-vue-meta="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.2921b393c59c1de81f95c629be62cea9.png"><link data-vue-meta="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.2921b393c59c1de81f95c629be62cea9.png"><link data-vue-meta="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.2921b393c59c1de81f95c629be62cea9.png"><link data-vue-meta="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.2921b393c59c1de81f95c629be62cea9.png"><link data-vue-meta="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.2921b393c59c1de81f95c629be62cea9.png"><link rel="preload" href="/assets/css/0.styles.099aa82c.css" as="style"><link rel="preload" href="/assets/js/app.9456a09b.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-markdown-page-vue.01de0cdb.js" as="script"><link rel="prefetch" href="/assets/js/page--src-pages-404-vue.9a475874.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.a8d25a86.js"><link rel="prefetch" href="/assets/js/search.b3e8afe9.js"><link rel="stylesheet" href="/assets/css/0.styles.099aa82c.css"><noscript data-vue-meta="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="antialiased text-ui-typo bg-ui-background"><div class="flex flex-col justify-start min-h-screen"><header class="sticky top-0 z-10 w-full border-b bg-ui-background border-ui-border"><div class="py-2 border-t-2 border-ui-primary"><div class="container"><div class="flex items-center justify-between -mx-2 sm:-mx-4 is-not-mobile"><div><a href="/" title="Home" class="flex items-center text-ui-primary active"><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 120 64' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-fc641bf75e53d9efc3486e04cdc3cd6a'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-fc641bf75e53d9efc3486e04cdc3cd6a)' width='120' height='64' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAiCAYAAADvVd%2bPAAAACXBIWXMAAC4jAAAuIwF4pT92AAATw0lEQVRo3sVZCVSTZ7pmc6y22vXedqa3iz2dTje7TduZjrZWZQcBIayKC9W6dTrVUVHrUlxwAdmSEAIEJOwoCoosIQkEQVZFFitatYsdtVNHlB2S/3vm/f4kiO3M7b3n3HvMOc95v//Pv%2bR5vnf7vtjY0Kcnz0nE2PFPYGuBnQX2t3MdHURL523uwUcjrbLRyKrtCPYW2NE52wpZtS2N6ftqmwrzNebrZXfGP/tYSIrEevIcOSl789jJjoj%2b4o/pyXWyoXsm/Zjr%2bRzyX39nS1qts6uSLfBJ7g/xUg4GeycPBhECCQEEf4KE4EeY65U86EPW21s54OWlHPD0Th7woGN3Ou82V9nvNitZcEySt4Xppbol5bLqD4ngb4nI/f/d76n4mThV9hVS8dgszqgoZG/n/Q8IEjki%2bBTZN0kgD7pnGY0jaKwilNO4jb6/2p3r2i/k/0GITS/udlMDAZmAnxXquyGxQDzOAHytOHAHfgQPQorqMlpUDdAp6kACDNAP/57QQLOcR3Y3EV5KmEXj35J96Jf4cIHGWk7wEcLrBGfCQiK1qSfXMZHGJWRbyAu%2bJtvTl%2b8E42EXoNgVOOZO8AArdhPPDR50Rk%2b%2bK0z570GdoRp2VMI4N7nPSDNKGDTS7IrWh449Fb1GZ2mPyVnaa3KV9Zi8kvpMdN5E3mKi6wlklQMiPJOHhAPyU6Yqqc5IHiBUyg3QK2phSG5AnaoZJ9NOoTa1CdXKkyABhonUFbJNhINcHMISghPhd4TJd0SovsuFo1mRK/oLnIGjbkTMzWyJnOmIGwYPuaKvwAUkCCMxhJ48Z%2bOtnNnGmxl/Ikwz3s51MtF3QneuCzPm/YmVqyPhrATzSe5jRIgRebKDZPuZo2yAheSArS4BW3sc7JOjYHPTwZxl/XQ9v2ZQvIfIszl07Ev3HJQ1MJ1Uz2j2Gc06IyICETWRNZI1luzXmI5Fa4TyeD2qkupQQ%2bJwUU6qWkikFvEcF4fwN8JZwixLCNiJAhCBv3LSRGKYQIQcjdxykrfUfzL1ZU8TutXTGLk54yLcyv6QDR92Z2jYyFC7Gv15s0iY2exWnguG86azU1l/YR5KEycCkUzyILyS%2bjEneQQJBhPi0ouxet1mfLp6HTZs24PUoiZsLgNc5AMgTwCJABIANPsIVt5GiawGldIq7v6cCIg0F4GVJ%2bihkRpYx7Eudk5zkdUdaGalsTqBvjNxYbhAFgiVMgO08ho0pLfS/dWuFgHsrQJ4cTcmgiYiz0mCyDOaeTZcvwt/r5PBVLMWPdkf8vMYLvZBuyYFAYHBWLXqz/jhRDz6cmeiO9eZDeTNwKWcUBaQfIvNUQ5xAURSLolDUBj6MT/AG/TKu/ArWxvsjpbikyLAVd5H15sFcE8expKkG0SyipMeKwCNq6BJqEarth2rPlkFD08PFOUVozHnNEpjtaJAY8XiImjM91MOqXrRUhnsLCHg%2bHovke6xznCuExGagesnEuDuE4RJjzyBrdu%2bgFC7Ef9IfR1C4y7McrlDZFfEZqBqCf6h/gC9eY64keuJj1K%2bhZvSRGT64SrrxUoit313jOUeWzzz7LNwmjUDL0x5UjwXGuSHXVXA7IReUTAfEsCVPGZ10lVQBRDJV1jIa%2bTVOBZVgXPlX%2bHPn/559Hc8%2bcxvcKryDCrizAKJ11pE4wLw3EH2GuFRiwfYWpPgE4QbA5QDeCzfzPoQKPdHVtLuOzNlPxGdlSkw5b2H64YYPPnsC6Pfubh5AvVb0Z3xHnmRCwbyZmKt6gxclAy%2bKf1wJFIRWsBf4iteT29F/lE9jnwDxJVdw05ZLhQVf4Ovyog5Sh42g6IALiTAFsXXMEi1KLcIwMlw169W1kN/rArjxo8TBR3nME589qGMw6hVNaEsXjeWPPcAk4HuIVHaR8ugNRFa6n4HDwOyppuZJEBFENITIsSHTrhvvGg3b1wH1C1Ha/FejJv48BjlX8Dfa2LRlz0d3XmuGMmbjn1p5XBSUjlL7oOTtBfhFOMrV5lny87eHlOnvoaNkYlILP8esU2Ak0KAp6JPJE9Jc9QD9iV23RFgzOyf112Cf4C/%2bXl2dnBwcLB4YyROF3TgeEzlzwQ4kdLIx8ctJdCWN0e8D7Cz5IFSXgksAjBUBEMVv118qIODvWife/E1oDMFxSlb6dhuTBz/CjWHYiAUueFGtrPoJQcOHMBsEoBKoZgAfVQMas0FPP9fj9wV///x0H34ZMUyJNf0wkM5TLHfL4pgzQHUBKHKIgAnw2e2Lq0ZxflHYWNrfkZgUCDefvttcRwcHIyzZRdQEq0ZzRcWEYy8KpCVWwSwFz2Bd3yWMJDz0sez/83MGYAmBMqYL8SHjhvnIIKPa8ryoZLvE8evvvoKHn74IXEcG/k5oF2AHzNnir1AqXoPL4UUz%2bak5p7Yh9BsBkVxOwIlc/HU4w/dJcSKpYuxk8LEUdon5gAuAJVBZMubxRxQLq0WZ78kSoPz1Zfg5Owo3jd%2b/Hh0tXfBx9tHPH7jrddxpqIDZTE/DYEqI%2b8ZyK6zxL%2bDRQBHqwCrLaWQC8BQOR/yqK3iQ5944nF4e3mJ48VhS7A%2bPFwch4dvwPvvvy%2bOg4KCKQ9sxI2M6RjO/wDNWavhqRwZrQLuigESANh1ApC1ANKKv2Pb3kQ89og5lB59cAIUZd/QrFPiVPaL5CXKPhyWnYRWqhfj/3hsJZqyWpGpyhoVzt3DHSPdRqxYtkI8nvTgJOiLDNDJa2n29RYBxEpg4v0BlcBA0QPGlEB7SzPkIxyxhgAXIBQJe7eY3fSxR3HkSLEYaw8%2bOBlTpkwRzxcfKcTHS5eK4xen/h7dtdG4nTWd%2boKZuJizAJLkHnhRLeezv/wgIM8oQkigBDsTCxFbfgPlp67jtVdfFu9/8P5xkB/rwpxURgL0UTgMYUFSN0qpB9BYYr90vxbnDBfw1ttvjgrgQMlvypRn8dTTT42eS5Wr0KimchinHZsDmDaxho//aG2CLGsBJzuLB7xlKYO4mfkB4%2b4cG7lZfOB9903A9xfb4e7mYkk6tmIOOF93CLK95msmTHqEtR5PgLHQkfXlO7KbuW7so5TvqJkxMl7apLXA%2b%2b9ONd9PePbJRzH5gQmjP9pt1jTEVZswWzrAfFPIY1JMbIXyBrPMPiuJqWStB88iIUZqfoatHcZTch4/cfzoM%2bztzblqzWdr0FZ0DtQhjgrAW2hzD1D9lLUEiu1wj2U5S0L8J427%2b6mnJwEEaBex6J2fW8nhenM2ClL3jr5s/OTHcbslGbpMMVEyjvjIDRDKQ4VvpVNZgWwDT2ZiN8g9YGkBoMw6hjdeegYOY2J/vD2Rnz0d6sqv4H%2bAsTlJ1BIreeW4KayO6xKqZXqeAFlFfBXaDB2Y8sKU0XuLCopFd89OzcG2zdswceJEc1l2dcFZjZgIxZmnhCfoFDwkqr6m4wcsTdBoD2BdD/D1/bnhQlfcVL8vQL%2bYRWz6zPKy8Th3fA8GG6KwYMkq/P7daZDF74egX4lvKqPwoXsge3/GTGSkpQpfZQSgcIc3JEndwpyUYSqDvYz3Am4kwseHKPb1A4jKbsReRT72KQuQeLgZCTVGSA6YKGf0M4%2bE65i9rVF4b2sLPt9bB0NilVAmNjXVrLm0FUU5xYjZE4ukxCS0Hf8S2oQTYr9/5dRVCsMXxd87%2beHJqC9pYpUJBnHmqQUe4WsDIn%2bac208cObO3gBf7496Qa5jOV/dkQcYUbmQSMbgd6%2b8AUlIGK7UJGIof4bYDZoadgG6JbidOQ19x0Ix0hyFq6XhQld2GJp3vvT9SlmjyllFvX2iSZidCOaYCCJnhJfiFhakfYu1h77HvFwgJAvwTgVmxQnwkBvJY6gT3HFRmLmpBe%2bEN7dlRtfW1ic1gIgIlQkUx3HVOJHShObsNpzKb6eSqBcTHS2EcELdAE1RJWL3xGHDhnB2sqKRlcXpcDSmzFgUXSpeR3YH53lwd5Hd2KWw2AhZxgpeCcTFUL4L6zFEYKh%2bD9CwFf1H/HArm/p99TTcyvgjF4m6PmcSYQZup/%2bR1X0xFRWfv4HL2yZ%2bEJRjXLqm8EdsP1hvTCk5wkq0Cpyq24rvWlay4U4/fNu4ivmmXWZ%2bhUdZ4CENgg4ZmH9BPfzzTjPPxAq4xhyHqzprceGBo8fL1CdQlESrPYWWlSbqUCbVMaoGIsb0%2buArQer0WHNOG%2bso7sLh2GNMulYxotqSAdm6pIHY1dKF1tnfsTzy7g2C25ZSSMTXWXsBcVGURStA9XvsJm9xc2aK6wQiTXDhK0Ohp8BJ6C12Yz2lnuwKec41recNY5e//vaZed397QEwtrsz1j6LoWMm8KUnTGe9YTzrxbpbw7D88AnMq96ORdU72MLqHVhYvRPztBFsvm4XQvWRplDdbrawaj8W66LZR9r9WKaJZSvL4/GXUhk7rKwwaqUGI/X7fNUn3Fkd6hjP/Eejyk2J65OF9K2ZSAxPbkjamPoC59eU0WYbuXLv3ZshVAbHNkNzTVQKifwIL4dElMPI1/8WUfi6H30FThjkmyM6Twx9KWFDZyUg4ky4EAhc9APOeQBfSRi%2bCwOuUft8dT2GaOYHOiRskOxIeyDbVprdF6CNYQt10QjVRrMQ3T6salFiZXMSW9ogQ9jJeMwzRLGAykgSZB%2bbr9%2bH4Ko9bJE%2bGhp1LRpST6MmpQF6RR0q5WJ548nOqEs8MXwk%2bjiUG1VQbEiJtk6yfL3SgcSwju/aDRL3A62lcICqAMcIrQt4a8w3RawbJKYj4lqBo/92tuN3vcfdznPygx1%2bBAkG2rwZu7zK1H0pVThlUKC4II7tiljHdkRsQe/FfRjumMP6OwKAsz5CZv1fz0q0McJiIhai28timwogzUphMZkKyA6mM3lxBlPXFrPdrXkIriRv0EeTp0QjTLv/VmFy%2bT5tgiGDPKCGiPPM3s/X%2bjw/NKSfRtoW9fW4NTIPK3kibm8lbhXhp3t%2bthb7G8I1wg8UFm1ktVQdMgg7yeX5PqAXdY7vkus/%2b8PHrzkMnvGdQuQHR0iE/jZfhovBqNer8OunXqVsbH%2bn1D3wG1zpVEM4542%2bdn9GAiC/4TMjCcBCK3djWaOcZRTl3dUaTxg3HhNsxyE2SYo1rSoEayKFxbWx3Bsu3bW/J6u6jwR4mmZ0GmX8eSWxmo00%2b0/z75I2pNoTYVuLCDbkEf96k9C6McoXRkTyabKPEtFf3O4eOu9/31Cn5CIuBKC31VvA1WVQKXaKBF5%2b%2bUUUHVKhs%2bUYRm61At%2bvR/8ZDzbQKXoAO1C/Fn7aGJAHsGDdHsS0FECenwZFbhqWL18%2bKoQsOxWrmpMQotltWlwXhwW6qM5cVYlD/f4Gu/15Of/2N1pn/RfJ3/ECx38hjJMt7xRvi/v/jva8bRa3zw%2b72PbXeIlhQwLo8HUQ9wATLgczQ5lc/OFvvvEGDNpDiIv6HKHzAnBSkwBcCmW93FPOzkViXTgjASim92GBPooFaiKxslUJ3Ten8M5b5pVdxPYIxF44Ckk5JUl9tInnhVBd1En%2b3uUV8bZKdSHv6S1dXZVdpcxgfzyu0j7l83RRmLxdhb9MfKwH3PUnSO7P/yAxJ0xHG3J7m6EOP1Fhin0lvg3GQLvEyLp82KXTSkx84LGfbXulJ%2b8FrixD7xkfsM65bH/tJkYhAFEASoBBut3IP6fHjPemi9cvWRSGtEuV8Kvg5KOI%2bD5TWH0CF6ucv5esLZ2zGbvPTwnQhqqATc6OAvG4cO/R/59/ZYY6JHzm7S0e8BkXYLDD3zjc4Y7eyzI897y555cn7MOVrhIM3WwGBgvZyNm5bIASpvClH4us3cL8qbwtptmXaHZCfVmHBSHzxfv8fHxRfLURAYY9PAGKHkJkjR81JHAhcvl7ydpxAe7Jh0jfEaBD4o5LgRjs9DcNnHFluLYfs2abF02x0buQr47Cx2F%2bWLRoEfvH%2bXgiP4fdbPbFpuptCNbHsMCKndjRmYeNmzeJ90y8/36kpKVCVZ6PdH0h29mSzYK1u3kIjCxpknExxDS%2boCransY29%2bxDAog5YLBT8grV%2bJHhs/7oPe3O8OM2LF%2bx6qchwJ55/h183ZbGLmpmoabARVhRuWMgtDqG4ns7k58vQbBvwM/Chl7AssoOYUmDVJin2TPyUaMUIWWR4fy9IaW77O%2b1B9haxpMJV4WuAMoDfgJZygPJbNuWcCaL3YqKonh2vkXFhv%2bWxrrPLDSeOjwT2sNeO4KqYi%2bEnYjhLi0sNsSwtNYSJs1LZdFpMhadFM827trKtkVuh7SuwOSZuR6%2b2Ztoab16tLFxT/z0ns7%2bKMzHfg24GEjdnsQ00D6XCV3%2bAn74qwnXPjHim/lGnPc1CV96GAfafVCfNyv71xeaJlHi61lYFc1d2jhfu9cUpN9jXNooM37SojSuazswsrEj07j5XM5wQHEE3BR/gUfSZytHycvN5Kks3lsRBq1h0OGnxuVA3hEODVNTZDrnD3bOx9wWf03t8VeES8G4Vu/T0faSza8ktfLnFlL2X1wbB97chNXHczfHYrIcC09Sw1MbgwX1sfDOCO9zk3/qxt9DY3uv9HWi5/mow22Cj%2b28hwJQJSDCDhYxduDWQvCGiM4Z6fj6UKd/E9kcQgQhmM7/gV2cN4lfv1a7dWKoPur35AUfkgd4UhiEkF1BWE/YTogj70ibX7Enxytt3Zv8njlpax3mJK8R3%2b2hXG3jnbrW5p5/xuSBdwmbCZ6EqYQH/909VeX%2bdv/b93imrBnt6jj5/8vPPwFwKsXSiLMoKQAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="120" data-src="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png" data-srcset="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png 120w" data-sizes="(max-width: 120px) 100vw, 120px" class="text-ui-primary g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png" class="text-ui-primary g-image g-image--loaded" width="120"></noscript></a></div><div class="w-full px-2 sm:px-4 max-w-screen-xs"><!----></div><div class="flex items-center justify-end px-2 sm:px-4"><!----><!----><!----><div class=".clearfix" style="min-width:280px;"><a href="https://github.com/msa-ez/platform?tab=readme-ov-file#running-on-docker-compose-with-github" target="_blank" style="display:block; width:50px; height:50px; line-height:50px; float:left; padding-top: 13px;"><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" style="margin:0 auto;"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><div style="width:60px; height:50px; text-align:center; line-height:50px; font-weight:700; float:left;"><a style="cursor:pointer;">English</a></div><div style="width:50px; height:50px; text-align:center; line-height:50px; float:left; padding-top: 5px;"><button aria-label="Toggle Darkmode" title="Toggle Darkmode"><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div><div style="text-align:center; line-height:50px; float:left;"><a href="http://labs.msaez.io/" target="_blank" rel="noopener" class="px-4 py-2 ml-auto font-bold leading-none text-white rounded-lg shadow-lg bg-ui-primary">
              Try MSAEZ
            </a></div></div></div></div><div class="flex items-center justify-between -mx-2 sm:-mx-4 is-mobile"><div class="flex"><a href="/" title="Home" class="flex items-center text-ui-primary active"><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 120 64' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-fc641bf75e53d9efc3486e04cdc3cd6a'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-fc641bf75e53d9efc3486e04cdc3cd6a)' width='120' height='64' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAiCAYAAADvVd%2bPAAAACXBIWXMAAC4jAAAuIwF4pT92AAATw0lEQVRo3sVZCVSTZ7pmc6y22vXedqa3iz2dTje7TduZjrZWZQcBIayKC9W6dTrVUVHrUlxwAdmSEAIEJOwoCoosIQkEQVZFFitatYsdtVNHlB2S/3vm/f4kiO3M7b3n3HvMOc95v//Pv%2bR5vnf7vtjY0Kcnz0nE2PFPYGuBnQX2t3MdHURL523uwUcjrbLRyKrtCPYW2NE52wpZtS2N6ftqmwrzNebrZXfGP/tYSIrEevIcOSl789jJjoj%2b4o/pyXWyoXsm/Zjr%2bRzyX39nS1qts6uSLfBJ7g/xUg4GeycPBhECCQEEf4KE4EeY65U86EPW21s54OWlHPD0Th7woGN3Ou82V9nvNitZcEySt4Xppbol5bLqD4ngb4nI/f/d76n4mThV9hVS8dgszqgoZG/n/Q8IEjki%2bBTZN0kgD7pnGY0jaKwilNO4jb6/2p3r2i/k/0GITS/udlMDAZmAnxXquyGxQDzOAHytOHAHfgQPQorqMlpUDdAp6kACDNAP/57QQLOcR3Y3EV5KmEXj35J96Jf4cIHGWk7wEcLrBGfCQiK1qSfXMZHGJWRbyAu%2bJtvTl%2b8E42EXoNgVOOZO8AArdhPPDR50Rk%2b%2bK0z570GdoRp2VMI4N7nPSDNKGDTS7IrWh449Fb1GZ2mPyVnaa3KV9Zi8kvpMdN5E3mKi6wlklQMiPJOHhAPyU6Yqqc5IHiBUyg3QK2phSG5AnaoZJ9NOoTa1CdXKkyABhonUFbJNhINcHMISghPhd4TJd0SovsuFo1mRK/oLnIGjbkTMzWyJnOmIGwYPuaKvwAUkCCMxhJ48Z%2bOtnNnGmxl/Ikwz3s51MtF3QneuCzPm/YmVqyPhrATzSe5jRIgRebKDZPuZo2yAheSArS4BW3sc7JOjYHPTwZxl/XQ9v2ZQvIfIszl07Ev3HJQ1MJ1Uz2j2Gc06IyICETWRNZI1luzXmI5Fa4TyeD2qkupQQ%2bJwUU6qWkikFvEcF4fwN8JZwixLCNiJAhCBv3LSRGKYQIQcjdxykrfUfzL1ZU8TutXTGLk54yLcyv6QDR92Z2jYyFC7Gv15s0iY2exWnguG86azU1l/YR5KEycCkUzyILyS%2bjEneQQJBhPi0ouxet1mfLp6HTZs24PUoiZsLgNc5AMgTwCJABIANPsIVt5GiawGldIq7v6cCIg0F4GVJ%2bihkRpYx7Eudk5zkdUdaGalsTqBvjNxYbhAFgiVMgO08ho0pLfS/dWuFgHsrQJ4cTcmgiYiz0mCyDOaeTZcvwt/r5PBVLMWPdkf8vMYLvZBuyYFAYHBWLXqz/jhRDz6cmeiO9eZDeTNwKWcUBaQfIvNUQ5xAURSLolDUBj6MT/AG/TKu/ArWxvsjpbikyLAVd5H15sFcE8expKkG0SyipMeKwCNq6BJqEarth2rPlkFD08PFOUVozHnNEpjtaJAY8XiImjM91MOqXrRUhnsLCHg%2bHovke6xznCuExGagesnEuDuE4RJjzyBrdu%2bgFC7Ef9IfR1C4y7McrlDZFfEZqBqCf6h/gC9eY64keuJj1K%2bhZvSRGT64SrrxUoit313jOUeWzzz7LNwmjUDL0x5UjwXGuSHXVXA7IReUTAfEsCVPGZ10lVQBRDJV1jIa%2bTVOBZVgXPlX%2bHPn/559Hc8%2bcxvcKryDCrizAKJ11pE4wLw3EH2GuFRiwfYWpPgE4QbA5QDeCzfzPoQKPdHVtLuOzNlPxGdlSkw5b2H64YYPPnsC6Pfubh5AvVb0Z3xHnmRCwbyZmKt6gxclAy%2bKf1wJFIRWsBf4iteT29F/lE9jnwDxJVdw05ZLhQVf4Ovyog5Sh42g6IALiTAFsXXMEi1KLcIwMlw169W1kN/rArjxo8TBR3nME589qGMw6hVNaEsXjeWPPcAk4HuIVHaR8ugNRFa6n4HDwOyppuZJEBFENITIsSHTrhvvGg3b1wH1C1Ha/FejJv48BjlX8Dfa2LRlz0d3XmuGMmbjn1p5XBSUjlL7oOTtBfhFOMrV5lny87eHlOnvoaNkYlILP8esU2Ak0KAp6JPJE9Jc9QD9iV23RFgzOyf112Cf4C/%2bXl2dnBwcLB4YyROF3TgeEzlzwQ4kdLIx8ctJdCWN0e8D7Cz5IFSXgksAjBUBEMVv118qIODvWife/E1oDMFxSlb6dhuTBz/CjWHYiAUueFGtrPoJQcOHMBsEoBKoZgAfVQMas0FPP9fj9wV///x0H34ZMUyJNf0wkM5TLHfL4pgzQHUBKHKIgAnw2e2Lq0ZxflHYWNrfkZgUCDefvttcRwcHIyzZRdQEq0ZzRcWEYy8KpCVWwSwFz2Bd3yWMJDz0sez/83MGYAmBMqYL8SHjhvnIIKPa8ryoZLvE8evvvoKHn74IXEcG/k5oF2AHzNnir1AqXoPL4UUz%2bak5p7Yh9BsBkVxOwIlc/HU4w/dJcSKpYuxk8LEUdon5gAuAJVBZMubxRxQLq0WZ78kSoPz1Zfg5Owo3jd%2b/Hh0tXfBx9tHPH7jrddxpqIDZTE/DYEqI%2b8ZyK6zxL%2bDRQBHqwCrLaWQC8BQOR/yqK3iQ5944nF4e3mJ48VhS7A%2bPFwch4dvwPvvvy%2bOg4KCKQ9sxI2M6RjO/wDNWavhqRwZrQLuigESANh1ApC1ANKKv2Pb3kQ89og5lB59cAIUZd/QrFPiVPaL5CXKPhyWnYRWqhfj/3hsJZqyWpGpyhoVzt3DHSPdRqxYtkI8nvTgJOiLDNDJa2n29RYBxEpg4v0BlcBA0QPGlEB7SzPkIxyxhgAXIBQJe7eY3fSxR3HkSLEYaw8%2bOBlTpkwRzxcfKcTHS5eK4xen/h7dtdG4nTWd%2boKZuJizAJLkHnhRLeezv/wgIM8oQkigBDsTCxFbfgPlp67jtVdfFu9/8P5xkB/rwpxURgL0UTgMYUFSN0qpB9BYYr90vxbnDBfw1ttvjgrgQMlvypRn8dTTT42eS5Wr0KimchinHZsDmDaxho//aG2CLGsBJzuLB7xlKYO4mfkB4%2b4cG7lZfOB9903A9xfb4e7mYkk6tmIOOF93CLK95msmTHqEtR5PgLHQkfXlO7KbuW7so5TvqJkxMl7apLXA%2b%2b9ONd9PePbJRzH5gQmjP9pt1jTEVZswWzrAfFPIY1JMbIXyBrPMPiuJqWStB88iIUZqfoatHcZTch4/cfzoM%2bztzblqzWdr0FZ0DtQhjgrAW2hzD1D9lLUEiu1wj2U5S0L8J427%2b6mnJwEEaBex6J2fW8nhenM2ClL3jr5s/OTHcbslGbpMMVEyjvjIDRDKQ4VvpVNZgWwDT2ZiN8g9YGkBoMw6hjdeegYOY2J/vD2Rnz0d6sqv4H%2bAsTlJ1BIreeW4KayO6xKqZXqeAFlFfBXaDB2Y8sKU0XuLCopFd89OzcG2zdswceJEc1l2dcFZjZgIxZmnhCfoFDwkqr6m4wcsTdBoD2BdD/D1/bnhQlfcVL8vQL%2bYRWz6zPKy8Th3fA8GG6KwYMkq/P7daZDF74egX4lvKqPwoXsge3/GTGSkpQpfZQSgcIc3JEndwpyUYSqDvYz3Am4kwseHKPb1A4jKbsReRT72KQuQeLgZCTVGSA6YKGf0M4%2bE65i9rVF4b2sLPt9bB0NilVAmNjXVrLm0FUU5xYjZE4ukxCS0Hf8S2oQTYr9/5dRVCsMXxd87%2beHJqC9pYpUJBnHmqQUe4WsDIn%2bac208cObO3gBf7496Qa5jOV/dkQcYUbmQSMbgd6%2b8AUlIGK7UJGIof4bYDZoadgG6JbidOQ19x0Ix0hyFq6XhQld2GJp3vvT9SlmjyllFvX2iSZidCOaYCCJnhJfiFhakfYu1h77HvFwgJAvwTgVmxQnwkBvJY6gT3HFRmLmpBe%2bEN7dlRtfW1ic1gIgIlQkUx3HVOJHShObsNpzKb6eSqBcTHS2EcELdAE1RJWL3xGHDhnB2sqKRlcXpcDSmzFgUXSpeR3YH53lwd5Hd2KWw2AhZxgpeCcTFUL4L6zFEYKh%2bD9CwFf1H/HArm/p99TTcyvgjF4m6PmcSYQZup/%2bR1X0xFRWfv4HL2yZ%2bEJRjXLqm8EdsP1hvTCk5wkq0Cpyq24rvWlay4U4/fNu4ivmmXWZ%2bhUdZ4CENgg4ZmH9BPfzzTjPPxAq4xhyHqzprceGBo8fL1CdQlESrPYWWlSbqUCbVMaoGIsb0%2buArQer0WHNOG%2bso7sLh2GNMulYxotqSAdm6pIHY1dKF1tnfsTzy7g2C25ZSSMTXWXsBcVGURStA9XvsJm9xc2aK6wQiTXDhK0Ohp8BJ6C12Yz2lnuwKec41recNY5e//vaZed397QEwtrsz1j6LoWMm8KUnTGe9YTzrxbpbw7D88AnMq96ORdU72MLqHVhYvRPztBFsvm4XQvWRplDdbrawaj8W66LZR9r9WKaJZSvL4/GXUhk7rKwwaqUGI/X7fNUn3Fkd6hjP/Eejyk2J65OF9K2ZSAxPbkjamPoC59eU0WYbuXLv3ZshVAbHNkNzTVQKifwIL4dElMPI1/8WUfi6H30FThjkmyM6Twx9KWFDZyUg4ky4EAhc9APOeQBfSRi%2bCwOuUft8dT2GaOYHOiRskOxIeyDbVprdF6CNYQt10QjVRrMQ3T6salFiZXMSW9ogQ9jJeMwzRLGAykgSZB%2bbr9%2bH4Ko9bJE%2bGhp1LRpST6MmpQF6RR0q5WJ548nOqEs8MXwk%2bjiUG1VQbEiJtk6yfL3SgcSwju/aDRL3A62lcICqAMcIrQt4a8w3RawbJKYj4lqBo/92tuN3vcfdznPygx1%2bBAkG2rwZu7zK1H0pVThlUKC4II7tiljHdkRsQe/FfRjumMP6OwKAsz5CZv1fz0q0McJiIhai28timwogzUphMZkKyA6mM3lxBlPXFrPdrXkIriRv0EeTp0QjTLv/VmFy%2bT5tgiGDPKCGiPPM3s/X%2bjw/NKSfRtoW9fW4NTIPK3kibm8lbhXhp3t%2bthb7G8I1wg8UFm1ktVQdMgg7yeX5PqAXdY7vkus/%2b8PHrzkMnvGdQuQHR0iE/jZfhovBqNer8OunXqVsbH%2bn1D3wG1zpVEM4542%2bdn9GAiC/4TMjCcBCK3djWaOcZRTl3dUaTxg3HhNsxyE2SYo1rSoEayKFxbWx3Bsu3bW/J6u6jwR4mmZ0GmX8eSWxmo00%2b0/z75I2pNoTYVuLCDbkEf96k9C6McoXRkTyabKPEtFf3O4eOu9/31Cn5CIuBKC31VvA1WVQKXaKBF5%2b%2bUUUHVKhs%2bUYRm61At%2bvR/8ZDzbQKXoAO1C/Fn7aGJAHsGDdHsS0FECenwZFbhqWL18%2bKoQsOxWrmpMQotltWlwXhwW6qM5cVYlD/f4Gu/15Of/2N1pn/RfJ3/ECx38hjJMt7xRvi/v/jva8bRa3zw%2b72PbXeIlhQwLo8HUQ9wATLgczQ5lc/OFvvvEGDNpDiIv6HKHzAnBSkwBcCmW93FPOzkViXTgjASim92GBPooFaiKxslUJ3Ten8M5b5pVdxPYIxF44Ckk5JUl9tInnhVBd1En%2b3uUV8bZKdSHv6S1dXZVdpcxgfzyu0j7l83RRmLxdhb9MfKwH3PUnSO7P/yAxJ0xHG3J7m6EOP1Fhin0lvg3GQLvEyLp82KXTSkx84LGfbXulJ%2b8FrixD7xkfsM65bH/tJkYhAFEASoBBut3IP6fHjPemi9cvWRSGtEuV8Kvg5KOI%2bD5TWH0CF6ucv5esLZ2zGbvPTwnQhqqATc6OAvG4cO/R/59/ZYY6JHzm7S0e8BkXYLDD3zjc4Y7eyzI897y555cn7MOVrhIM3WwGBgvZyNm5bIASpvClH4us3cL8qbwtptmXaHZCfVmHBSHzxfv8fHxRfLURAYY9PAGKHkJkjR81JHAhcvl7ydpxAe7Jh0jfEaBD4o5LgRjs9DcNnHFluLYfs2abF02x0buQr47Cx2F%2bWLRoEfvH%2bXgiP4fdbPbFpuptCNbHsMCKndjRmYeNmzeJ90y8/36kpKVCVZ6PdH0h29mSzYK1u3kIjCxpknExxDS%2boCransY29%2bxDAog5YLBT8grV%2bJHhs/7oPe3O8OM2LF%2bx6qchwJ55/h183ZbGLmpmoabARVhRuWMgtDqG4ns7k58vQbBvwM/Chl7AssoOYUmDVJin2TPyUaMUIWWR4fy9IaW77O%2b1B9haxpMJV4WuAMoDfgJZygPJbNuWcCaL3YqKonh2vkXFhv%2bWxrrPLDSeOjwT2sNeO4KqYi%2bEnYjhLi0sNsSwtNYSJs1LZdFpMhadFM827trKtkVuh7SuwOSZuR6%2b2Ztoab16tLFxT/z0ns7%2bKMzHfg24GEjdnsQ00D6XCV3%2bAn74qwnXPjHim/lGnPc1CV96GAfafVCfNyv71xeaJlHi61lYFc1d2jhfu9cUpN9jXNooM37SojSuazswsrEj07j5XM5wQHEE3BR/gUfSZytHycvN5Kks3lsRBq1h0OGnxuVA3hEODVNTZDrnD3bOx9wWf03t8VeES8G4Vu/T0faSza8ktfLnFlL2X1wbB97chNXHczfHYrIcC09Sw1MbgwX1sfDOCO9zk3/qxt9DY3uv9HWi5/mow22Cj%2b28hwJQJSDCDhYxduDWQvCGiM4Z6fj6UKd/E9kcQgQhmM7/gV2cN4lfv1a7dWKoPur35AUfkgd4UhiEkF1BWE/YTogj70ibX7Enxytt3Zv8njlpax3mJK8R3%2b2hXG3jnbrW5p5/xuSBdwmbCZ6EqYQH/909VeX%2bdv/b93imrBnt6jj5/8vPPwFwKsXSiLMoKQAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="120" data-src="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png" data-srcset="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png 120w" data-sizes="(max-width: 120px) 100vw, 120px" class="text-ui-primary g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/logo.1539b60.bd727e13501e82a0ba322b4ad29fd33a.png" class="text-ui-primary g-image g-image--loaded" width="120"></noscript></a><div class="w-full px-2 sm:px-4 max-w-screen-xs"><!----></div></div><div class="flex items-center justify-end px-2 sm:px-4"><!----><!----><!----><div class=".clearfix"><a href="https://github.com/msa-ez/platform?tab=readme-ov-file#running-on-docker-compose-with-github" target="_blank" style="display:block; width:50px; height:50px; line-height:50px; float:left; padding-top: 13px;"><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" style="margin:0 auto;"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><div style="width:60px; height:50px; text-align:center; line-height:50px; font-weight:700; float:left;"><a style="cursor:pointer;">English</a></div><div style="width:50px; height:50px; text-align:center; line-height:50px; float:left; padding-top: 5px;"><button aria-label="Toggle Darkmode" title="Toggle Darkmode"><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div><div style="text-align:center; line-height:50px; float:left;"><a href="http://labs.msaez.io/" target="_blank" rel="noopener" class="px-4 py-2 ml-auto font-bold leading-none text-white rounded-lg shadow-lg bg-ui-primary">
              Try MSAEZ
            </a></div></div></div></div></div></div></header><main class="container relative flex flex-wrap justify-start flex-1 w-full bg-ui-background"><!----><div class="w-full pb-24"><div class="flex flex-wrap items-start justify-start"><div class="order-2 w-full md:w-1/4 sm:pl-4 md:pl-6 lg:pl-8 sticky" style="top:4rem;"><div class="mt-8 sm:pl-4 md:pl-6 md:pt-12 lg:pl-8 sm:pb-16 sm:border-l border-ui-border md:mt-0"><h3 class="pt-0 mt-0 text-sm tracking-wide uppercase border-none">On this page</h3><div><ul><li class="font-semibold depth-2"><a href="/example-scenario/accommodation-reservation/#service-scenario" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          service scenario
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/example-scenario/accommodation-reservation/#checkpoint" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          CheckPoint
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/example-scenario/accommodation-reservation/#analysisdesign" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Analysis/Design
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/example-scenario/accommodation-reservation/#avatar" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          avatar
        </a></li><li class="depth-3"><a href="/example-scenario/accommodation-reservation/#-cqrs" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          · CQRS
        </a></li><li class="depth-3"><a href="/example-scenario/accommodation-reservation/#-api-gateway" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          · API Gateway
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/example-scenario/accommodation-reservation/#correlation" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Correlation
        </a></li><li class="depth-3"><a href="/example-scenario/accommodation-reservation/#-synchronous-call-sync-and-fallback-handling" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          · Synchronous call (Sync) and Fallback handling
        </a></li><li class="depth-3"><a href="/example-scenario/accommodation-reservation/#-asynchronous-invocation--temporal-decoupling--failure-isolation--eventual-consistency-test" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          · Asynchronous Invocation / Temporal Decoupling / Failure Isolation / Eventual Consistency Test
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/example-scenario/accommodation-reservation/#operation" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          operation
        </a></li><li class="depth-3"><a href="/example-scenario/accommodation-reservation/#-cicd-settings" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          · CI/CD settings
        </a></li><li class="depth-3"><a href="/example-scenario/accommodation-reservation/#-synchronous-call--circuit-breaking--fault-isolation" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          · Synchronous Call / Circuit Breaking / Fault Isolation
        </a></li><li class="depth-3"><a href="/example-scenario/accommodation-reservation/#-uninterrupted-redistribution" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          · Uninterrupted redistribution
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/example-scenario/accommodation-reservation/#self-healing-liveness-probe" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Self-healing (Liveness Probe)
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/example-scenario/accommodation-reservation/#config-map-persistence-volume" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          Config Map/ Persistence Volume
        </a></li></ul></div></div></div><div class="order-1 w-full md:w-3/4"><div class="content"><h1 id="airbnb"><a href="#airbnb" aria-hidden="true"><span class="icon icon-link"></span></a>AirBnB</h1>
<p><img src="https://user-images.githubusercontent.com/15603058/119284989-fefe2580-bc7b-11eb-99ca-7a9e4183c16f.jpg" alt="image">
source: <a href="https://github.com/msa-ez/airbnb_project" target="_blank" rel="noopener noreferrer">https://github.com/msa-ez/airbnb_project</a></p>
<h2>Accommodation reservation(AirBnB)</h2>
<p>This example is configured to cover all stages of analysis/design/implementation/operation including MSA/DDD/Event Storming/EDA. It includes example answers to pass the checkpoints required for the development of cloud-native applications.</p>
<ul>
<li>checkpoint : <a href="https://workflowy.com/s/assessment-check-po/T5YrzcMewfo4J6LW" target="_blank" rel="noopener noreferrer">https://workflowy.com/s/assessment-check-po/T5YrzcMewfo4J6LW</a></li>
</ul>
<h2 id="service-scenario"><a href="#service-scenario" aria-hidden="true"><span class="icon icon-link"></span></a>service scenario</h2>
<p>Cover AirBnB</p>
<p><strong>functional requirements</strong><br>
1. Register/modify/delete the accommodation for the host to rent.<br>
2. The customer selects and makes a reservation.<br>
3. Payment is made at the same time as the reservation.<br>
4. When a reservation is made, the reservation details (Message) are delivered.<br>
5. The customer may cancel the reservation.<br>
6. If the reservation is canceled, a cancellation message (Message) is delivered.<br>
7. You can leave a review on the property.<br>
8. You can check the overall accommodation information and reservation status on one screen. (viewpage)
<br><br></p>
<p><strong>Non-functional requirements</strong> <br>
1. Transactions <br>
2. Reservations without payment should not be established. (Sync call) <br>
3. Failure isolation <br>
4. Reservation should be available 24 hours a day, 365 days a year even if accommodation registration and message transmission functions are not performed Async (event-driven), Eventual Consistency<br><br>
5. When the reservation system is overloaded, users are temporarily shut down. Inducing them to do it after a while without receiving it Circuit breaker, fallback<br><br>
6. Performance <br>
7. It should be possible to check all room information and reservation status at once (CQRS) <br>
8. It should be possible to give a message whenever the reservation status changes Event driven)</p>
<h2 id="checkpoint"><a href="#checkpoint" aria-hidden="true"><span class="icon icon-link"></span></a>CheckPoint</h2>
<ul>
<li>
<p>analytical design</p>
<ul>
<li>
<p>Event Storming:</p>
<ul>
<li>Do you properly understand the meaning of each sticker color object and properly reflect it in the design in connection with the hexagonal architecture?</li>
<li>Is each domain event defined at a meaningful level?</li>
<li>Aggregation: Are Commands and Events properly grouped into ACID transaction unit Aggregate?</li>
<li>Are functional and non-functional requirements reflected without omission?</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Separation of subdomains, bounded contexts</p>
<ul>
<li>
<p>Is the sub-domain or Bounded Context properly separated according to the team's KPIs, interests, and different distribution cycles, and is the rationality of the separation criteria sufficiently explained?</p>
<ul>
<li>Separation of at least 3 services</li>
</ul>
</li>
<li>Polyglot design: Have you designed each microservice by adopting various technology stack and storage structures according to the implementation goals and functional characteristics of each microservice?</li>
<li>In the service scenario, for the use case where the ACID transaction is critical, is the service not excessively and densely separated?</li>
</ul>
</li>
<li>
<p>Context Mapping / Event Driven Architecture</p>
<ul>
<li>Can you differentiate between task importance and hierarchy between domains? (Core, Supporting, General Domain)</li>
<li>Can the request-response method and event-driven method be designed separately?</li>
<li>Fault Isolation: Is it designed so that the existing service is not affected even if the supporting service is removed?</li>
<li>Can it be designed (open architecture) so that the database of existing services is not affected when new services are added?</li>
<li>Did you design the Correlation-key connection to connect the event and the policy properly?</li>
</ul>
</li>
<li>
<p>Hexagonal Architecture</p>
<ul>
<li>Did you draw the hexagonal architecture diagram according to the design result correctly?</li>
</ul>
</li>
<li>
<p>avatar</p>
<ul>
<li>
<p>[DDD] Was the realization developed to be mapped according to the color of each sticker and the hexagonal architecture in the analysis stage?</p>
<ul>
<li>Have you developed a data access adapter through JPA by applying Entity Pattern and Repository Pattern?</li>
<li>[Hexagonal Architecture] In addition to the REST inbound adapter, is it possible to adapt the existing implementation to a new protocol without damaging the domain model by adding an inbound adapter such as gRPC?</li>
<li>Is the source code described using the ubiquitous language (terms used in the workplace) in the analysis stage?</li>
</ul>
</li>
<li>
<p>Implementation of service-oriented architecture of Request-Response method</p>
<ul>
<li>How did you find and call the target service in the Request-Response call between microservices? (Service Discovery, REST, FeignClient)</li>
<li>Is it possible to isolate failures through circuit breakers?</li>
</ul>
</li>
<li>
<p>Implementing an event-driven architecture</p>
<ul>
<li>Are more than one service linked with PubSub using Kafka?</li>
<li>Correlation-key: When each event (message) processes which policy, is the Correlation-key connection properly implemented to distinguish which event is connected to which event?</li>
<li>Does the Message Consumer microservice receive and process existing events that were not received in the event of a failure?</li>
<li>Scaling-out: Is it possible to receive events without duplicates when a replica of the Message Consumer microservice is added?</li>
<li>CQRS: By implementing Materialized View, is it possible to configure the screen of my service and view it frequently without accessing the data source of other microservices (without Composite service or join SQL, etc.)?</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<p>polyglot programming</p>
<ul>
<li>Are each microservices composed of one or more separate technology stacks?</li>
<li>Did each microservice autonomously adopt its own storage structure and implement it by selecting its own storage type (RDB, NoSQL, File System, etc.)?</li>
</ul>
</li>
<li>
<p>API Gateway</p>
<ul>
<li>Can the point of entry of microservices be unified through API GW?</li>
<li>Is it possible to secure microservices through gateway, authentication server (OAuth), and JWT token authentication?</li>
</ul>
</li>
<li>
<p>operation</p>
<ul>
<li>
<p>SLA Compliance</p>
<ul>
<li>Self-Healing: Through the Liveness Probe, as the health status of any service continuously deteriorates, at what threshold can it be proven that the pod is regenerated?</li>
<li>Can fault isolation and performance efficiency be improved through circuit breaker and ray limit?</li>
<li>Is it possible to set up an autoscaler (HPA) for scalable operation?</li>
<li>Monitoring, alerting:</li>
</ul>
</li>
<li>
<p>Nonstop Operation CI/CD (10)</p>
<ul>
<li>When the new version is fully serviceable through the setting of the Readiness Probe and rolling update, it is proved by siege that the service is converted to the new version of the service.</li>
<li>Contract Test: Is it possible to prevent implementation errors or API contract violations in advance through automated boundary testing?</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="analysisdesign"><a href="#analysisdesign" aria-hidden="true"><span class="icon icon-link"></span></a>Analysis/Design</h2>
<h3>Horizontally-Aligned</h3>
<p>  <img src="https://user-images.githubusercontent.com/77129832/119316165-96ca3680-bcb1-11eb-9a91-f2b627890bab.png" alt="image"></p>
<h3>TO-BE Organization (Vertically-Aligned)</h3>
<p>  <img src="https://user-images.githubusercontent.com/77129832/119315258-a09f6a00-bcb0-11eb-9940-c2a82f2f7d09.png" alt="image"></p>
<h3>Event Storming Results</h3>
<p><strong><a href="http://www.msaez.io/#/storming/QtpQtDiH1Je3wad2QxZUJVvnLzO2/6f36e16efdf8c872da3855fedf7f3ea9" target="_blank" rel="noopener noreferrer">Eventstorming results modeled with MSAEz</a></strong></p>
<p><strong>event derivation</strong>
<img src="https://user-images.githubusercontent.com/15603058/119298548-337fda80-bc98-11eb-9f96-7d583d156fb9.png" alt="image"></p>
<p><strong>Drop out of an ineligible event</strong>
<img src="https://user-images.githubusercontent.com/15603058/119298594-4f837c00-bc98-11eb-9f67-ec2e882e1f33.png" alt="image"></p>
<ul>
<li>
<p>Filtering out invalid domain events derived during the process</p>
<ul>
<li>Registration>RoomSearched, Reservation>RoomSelected: Excluded because it is a UI event and not a business event</li>
</ul>
</li>
</ul>
<p><strong>Easy to read by attaching actors and commands</strong>
<img src="https://user-images.githubusercontent.com/15603058/119298993-113a8c80-bc99-11eb-9bae-4b911317d810.png" alt="image"></p>
<p><strong>bind with aggregation</strong>
<img src="https://user-images.githubusercontent.com/15603058/119299589-2663eb00-bc9a-11eb-83b9-de7f3efe7548.png" alt="image"></p>
<ul>
<li>Room, Reservation, Payment, and Review are grouped together as a unit in which transactions must be maintained by the commands and events associated with them.</li>
</ul>
<p><strong>Bind to Bounded Context</strong>
<img src="https://user-images.githubusercontent.com/15603058/119300858-6c21b300-bc9c-11eb-9b3f-c85aff51658f.png" alt="image"></p>
<ul>
<li>
<p>domain sequence separation </p>
<ul>
<li>Core Domain: reservation, room: It is an indispensable core service, and the annual Up-time SLA level is set at 99.999%, and the distribution cycle is less than once a week for reservation and less than once a month for room.</li>
<li>Supporting Domain: message, viewpage: This is a service for competitiveness, and the SLA level is 60% or more per year uptime goal, and the distribution cycle is autonomous by each team, but the standard sprint cycle is one week, so it is based on at least once a week.</li>
<li>General Domain: payment: It is more competitive to use a 3rd party external service as a payment service</li>
</ul>
</li>
</ul>
<p><strong>Attach the policy (parentheses are the subject of execution, and it does not matter if you attach the policy in the second step. The entire linkage is revealed at the beginning)</strong></p>
<p><img src="https://user-images.githubusercontent.com/15603058/119303664-1b608900-bca1-11eb-8667-7545f32c9fb9.png" alt="image"></p>
<p><strong>Policy movement and context mapping (dashed lines are Pub/Sub, solid lines are Req/Resp)</strong></p>
<p><img src="https://user-images.githubusercontent.com/15603058/119304604-73e45600-bca2-11eb-8f1d-607006919fab.png" alt="image"></p>
<p><strong>Completed first model</strong></p>
<p><img src="https://user-images.githubusercontent.com/15603058/119305002-0edd3000-bca3-11eb-9cc0-1ba8b17f2432.png" alt="image"></p>
<ul>
<li>Add View Model</li>
</ul>
<p><strong>Verification that functional/non-functional requirements for the first complete version are</strong></p>
<p><img src="https://user-images.githubusercontent.com/15603058/119306321-f110ca80-bca4-11eb-804c-a965220bad61.png" alt="image"></p>
<ul>
<li>Register/modify/delete accommodation for the host to rent (ok)</li>
<li>The customer selects and makes a reservation (ok)</li>
<li>Payment is made at the same time as the reservation. (ok)</li>
<li>When a reservation is made, the reservation details (Message) are delivered.(?)</li>
<li>The customer can cancel the reservation (ok).</li>
<li>If the reservation is canceled, a cancellation message is sent.(?)</li>
<li>You can leave a review on the property (ok).</li>
<li>You can check the overall accommodation information and reservation status on one screen. (Add View-green Sticker is ok)
</li>
</ul>
<p><strong>Modify the model</strong></p>
<p><img src="https://user-images.githubusercontent.com/15603058/119307481-b740c380-bca6-11eb-9ee6-fda446e299bc.png" alt="image"></p>
<ul>
<li>The modified model covers all requirements.</li>
</ul>
<p><strong>Verification of non-functional requirements</strong></p>
<p><img src="https://user-images.githubusercontent.com/15603058/119311800-79df3480-bcac-11eb-9c1b-0382d981f92f.png" alt="image"></p>
<ul>
<li>Transaction processing for scenarios that cross microservices</li>
<li>Payment processing at the time of customer reservation: ACID transaction is applied by deciding that reservations that have not been paid will never be accepted. When booking is completed, check the room status in advance and process the request-response method for payment processing</li>
<li>Host connection and reservation processing when payment is completed: Since the room microservice has a separate distribution cycle in the process of transferring the reservation request from reservation to the room microservice, the transaction is processed in the eventual consistency method.</li>
<li>All other inter-microservice transactions: For all events such as reservation status and post-processing, it is judged that the timing of data consistency is not critical in most cases, so Eventual Consistency is adopted as the default.</li>
</ul>
<p><strong>Hexagonal Architecture Diagram Derivation</strong></p>
<p><img src="https://user-images.githubusercontent.com/80744273/119319091-fc6bf200-bcb4-11eb-9dac-0995c84a82e0.png" alt="image"></p>
<ul>
<li>Distinguish between inbound adapters and outbound adapters by referring to Chris Richardson, MSA Patterns</li>
<li>Distinguish between PubSub and Req/Resp in the call relationship</li>
<li>Separation of sub-domains and bounded contexts: Each team’s KPIs share their interest implementation stories as follows</li>
</ul>
<h2 id="avatar"><a href="#avatar" aria-hidden="true"><span class="icon icon-link"></span></a>avatar</h2>
<p>According to the hexagonal architecture derived from the analysis/design phase, microservices represented by each BC were implemented with Spring Boot. The method to run each implemented service locally is as follows (each port number is 8081 ~ 808n)</p>
<pre class="language-text"><code class="language-text">mvn spring-boot:run</code></pre>
<h3 id="-cqrs"><a href="#-cqrs" aria-hidden="true"><span class="icon icon-link"></span></a>· CQRS</h3>
<p>CQRS was implemented so that customers can inquire about total status such as availability of rooms, reviews and reservations/payments.</p>
<ul>
<li>Performance issues can be prevented in advance by integrating individual aggregate status for room, review, reservation, and payment.</li>
<li>Asynchronously processed and issued event-based Kafka is received/processed and managed in a separate table</li>
<li>Table modeling (ROOMVIEW)</li>
</ul>
<p>  <img src="https://user-images.githubusercontent.com/77129832/119319352-4b198c00-bcb5-11eb-93bc-ff0657feeb9f.png" alt="image"></p>
<ul>
<li>Implemented through viewpage MSA ViewHandler (when “RoomRegistered” event occurs, it is saved in a separate Roomview table based on Pub/Sub)
<img src="https://user-images.githubusercontent.com/77129832/119321162-4d7ce580-bcb7-11eb-9030-29ee6272c40d.png" alt="image">
<img src="https://user-images.githubusercontent.com/31723044/119350185-fccab400-bcd9-11eb-8269-61868de41cc7.png" alt="image"></li>
<li>In fact, if you look up the view page, you can see information such as overall reservation status, payment status, and number of reviews for all rooms.
<img src="https://user-images.githubusercontent.com/31723044/119357063-1b34ad80-bce2-11eb-94fb-a587261ab56f.png" alt="image"></li>
</ul>
<h3 id="-api-gateway"><a href="#-api-gateway" aria-hidden="true"><span class="icon icon-link"></span></a>· API Gateway</h3>
<ol>
<li>After adding the gateway Spring Boot App, add routes for each microservice in application.yaml and set the gateway server port to 8080.</li>
</ol>
<ul>
<li>application.yaml example</li>
</ul>
<pre class="language-text"><code class="language-text">spring:
  profiles: docker
  cloud:
    gateway:
      routes:
        - id: payment
          uri: http://payment:8080
          predicates:
            - Path=/payments/** 
        - id: room
          uri: http://room:8080
          predicates:
            - Path=/rooms/**, /reviews/**, /check/**
        - id: reservation
          uri: http://reservation:8080
          predicates:
            - Path=/reservations/**
        - id: message
          uri: http://message:8080
          predicates:
            - Path=/messages/** 
        - id: viewpage
          uri: http://viewpage:8080
          predicates:
            - Path= /roomviews/**
      globalcors:
        corsConfigurations:
          &#39;[/**]&#39;:
            allowedOrigins:
              - &quot;*&quot;
            allowedMethods:
              - &quot;*&quot;
            allowedHeaders:
              - &quot;*&quot;
            allowCredentials: true

server:
  port: 8080            </code></pre>
<ol start="2">
<li>Write Deployment.yaml for Kubernetes and create Deploy on Kubernetes</li>
</ol>
<ul>
<li>Deployment.yaml example</li>
</ul>
<pre class="language-text"><code class="language-text">apiVersion: apps/v1
kind: Deployment
metadata:
  name: gateway
  namespace: airbnb
  labels:
    app: gateway
spec:
  replicas: 1
  selector:
    matchLabels:
      app: gateway
  template:
    metadata:
      labels:
        app: gateway
    spec:
      containers:
        - name: gateway
          image: 247785678011.dkr.ecr.us-east-2.amazonaws.com/gateway:1.0
          ports:
            - containerPort: 8080</code></pre>
<ul>
<li>Create a Deploy</li>
</ul>
<pre class="language-text"><code class="language-text">kubectl apply -f deployment.yaml</code></pre>
<ul>
<li>Deploy created in Kubernetes. Confirm
</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/80744273/119321943-1d821200-bcb8-11eb-98d7-bf8def9ebf80.png" alt="image"></p>
<ol start="3">
<li>Create a Service.yaml for Kubernetes and create a Service/LoadBalancer in Kubernetes to check the Gateway endpoint</li>
</ol>
<ul>
<li>Service.yaml example</li>
</ul>
<pre class="language-text"><code class="language-text">apiVersion: v1
  kind: Service
  metadata:
    name: gateway
    namespace: airbnb
    labels:
      app: gateway
  spec:
    ports:
      - port: 8080
        targetPort: 8080
    selector:
      app: gateway
    type:
      LoadBalancer           </code></pre>
<ul>
<li>Create Service</li>
</ul>
<pre class="language-text"><code class="language-text">kubectl apply -f service.yaml            </code></pre>
<ul>
<li>Check API Gateway endpoint </li>
<li>Check Service and endpoint </li>
</ul>
<pre class="language-text"><code class="language-text">kubectl get svc -n airbnb           </code></pre>
<p><img src="https://user-images.githubusercontent.com/80744273/119318358-2a046b80-bcb4-11eb-9d46-ef2d498c2cff.png" alt="image"></p>
<h2 id="correlation"><a href="#correlation" aria-hidden="true"><span class="icon icon-link"></span></a>Correlation</h2>
<p>In the Airbnb project, the Correlation-key implementation for distinguishing the type of processing in PolicyHandler is passed as a variable in the event class to accurately implement the related processing between services.</p>
<p>Take a look at the implementation example below</p>
<p>When you make a reservation, the status of services such as room and payment are appropriately changed at the same time. You can check that the data such as the state value is changed to the appropriate state.</p>
<p>reservation registration
<img src="https://user-images.githubusercontent.com/31723044/119320227-54572880-bcb6-11eb-973b-a9a5cd1f7e21.png" alt="image">
After booking - room condition
<img src="https://user-images.githubusercontent.com/31723044/119320300-689b2580-bcb6-11eb-933e-98be5aadca61.png" alt="image">
After reservation - reservation status
<img src="https://user-images.githubusercontent.com/31723044/119320390-810b4000-bcb6-11eb-8c62-48f6765c570a.png" alt="image">
After booking - payment status
<img src="https://user-images.githubusercontent.com/31723044/119320524-a39d5900-bcb6-11eb-864b-173711eb9e94.png" alt="image">
cancel reservation
<img src="https://user-images.githubusercontent.com/31723044/119320595-b6b02900-bcb6-11eb-8d8d-0d5c59603c72.png" alt="image">
After Cancellation - Room Status
<img src="https://user-images.githubusercontent.com/31723044/119320680-ccbde980-bcb6-11eb-8b7c-66315329aafe.png" alt="image">
After Cancellation - Reservation Status
<img src="https://user-images.githubusercontent.com/31723044/119320747-dcd5c900-bcb6-11eb-9c44-fd3781c7c55f.png" alt="image">
After Cancellation - Payment Status
<img src="https://user-images.githubusercontent.com/31723044/119320806-ee1ed580-bcb6-11eb-8ccf-8c81385cc8ba.png" alt="image"></p>
<h3 id="-synchronous-call-sync-and-fallback-handling"><a href="#-synchronous-call-sync-and-fallback-handling" aria-hidden="true"><span class="icon icon-link"></span></a>· Synchronous call (Sync) and Fallback handling</h3>
<p>As one of the conditions in the analysis stage, it was decided to process the reservation availability status check call between rooms when making a reservation as a transaction that maintains synchronous consistency. The calling protocol allows the REST service already exposed by the Rest Repository to be called using FeignClient. Also, the reservation -> payment service was decided to be processed synchronously.</p>
<ul>
<li>Implement the service proxy interface (Proxy) using stub and (FeignClient) to call the room and payment service</li>
</ul>
<pre class="language-text"><code class="language-text"># PaymentService.java

package airbnb.external;

&lt;omit the import statement&gt;

@FeignClient(name=&quot;Payment&quot;, url=&quot;${prop.room.url}&quot;)
public interface PaymentService {

    @RequestMapping(method= RequestMethod.POST, path=&quot;/payments&quot;)
    public void approvePayment(@RequestBody Payment payment);

}

# RoomService.java

package airbnb.external;

&lt;omit the import statement&gt;

@FeignClient(name=&quot;Room&quot;, url=&quot;${prop.room.url}&quot;)
public interface RoomService {

    @RequestMapping(method= RequestMethod.GET, path=&quot;/check/chkAndReqReserve&quot;)
    public boolean chkAndReqReserve(@RequestParam(&quot;roomId&quot;) long roomId);

}</code></pre>
<ul>
<li>Immediately after receiving the reservation request (@PostPersist), check the availability and process the payment request synchronously (Sync)</li>
</ul>
<pre class="language-text"><code class="language-text"># Reservation.java (Entity)

    @PostPersist
    public void onPostPersist(){

        ////////////////////////////////
        // When INSERTed into RESERVATION
        ////////////////////////////////

        ////////////////////////////////////
        // When a reservation request (reqReserve) is received
        ////////////////////////////////////

        // Check if the ROOM is available
        boolean result = ReservationApplication.applicationContext.getBean(airbnb.external.RoomService.class)
                        .chkAndReqReserve(this.getRoomId());
        System.out.println(&quot;######## Check Result : &quot; + result);

        if(result) { 

            // If reservation is available

            //////////////////////////////
            // PAYMENT payment in progress (POST method) - SYNC call
            //////////////////////////////
            airbnb.external.Payment payment = new airbnb.external.Payment();
            payment.setRsvId(this.getRsvId());
            payment.setRoomId(this.getRoomId());
            payment.setStatus(&quot;paid&quot;);
            ReservationApplication.applicationContext.getBean(airbnb.external.PaymentService.class)
                .approvePayment(payment);

            /////////////////////////////////////
            // Event publication --&gt; ReservationCreated
            /////////////////////////////////////
            ReservationCreated reservationCreated = new ReservationCreated();
            BeanUtils.copyProperties(this, reservationCreated);
            reservationCreated.publishAfterCommit();
        }
    }</code></pre>
<ul>
<li>Confirm that synchronous calls result in time coupling with the time of the call, and that orders cannot be taken if the payment system fails:</li>
</ul>
<pre class="language-text"><code class="language-text"># Pause the pay service temporarily (ctrl+c)

# Reservation request
http POST http://localhost:8088/reservations roomId=1 status=reqReserve   #Fail

# Restart payment service
cd payment
mvn spring-boot:run

# Reservation request
http POST http://localhost:8088/reservations roomId=1 status=reqReserve   #Success</code></pre>
<ul>
<li>Also, in case of excessive request, service failure can occur like dominoes. (Circuit breaker and fallback processing will be explained in the operation phase.)</li>
</ul>
<h3 id="-asynchronous-invocation--temporal-decoupling--failure-isolation--eventual-consistency-test"><a href="#-asynchronous-invocation--temporal-decoupling--failure-isolation--eventual-consistency-test" aria-hidden="true"><span class="icon icon-link"></span></a>· Asynchronous Invocation / Temporal Decoupling / Failure Isolation / Eventual Consistency Test</h3>
<p>After payment is made, the status of the accommodation system is updated, the status of the reservation system is updated, and communication with the system to which reservation and cancellation messages are transmitted is handled asynchronously.</p>
<ul>
<li>For this, when the payment is approved, an event indicating that the payment has been approved is transmitted to Kafka. (Publish)</li>
</ul>
<pre class="language-text"><code class="language-text"># Payment.java

package airbnb;

import javax.persistence.*;
import org.springframework.beans.BeanUtils;

@Entity
@Table(name=&quot;Payment_table&quot;)
public class Payment {

    ....

    @PostPersist
    public void onPostPersist(){
        ////////////////////////////
        // If payment is approved
        ////////////////////////////

        // Event publication -&gt; PaymentApproved
        PaymentApproved paymentApproved = new PaymentApproved();
        BeanUtils.copyProperties(this, paymentApproved);
        paymentApproved.publishAfterCommit();
    }
    
    ....
}</code></pre>
<ul>
<li>Reservation system implements PolicyHandler to receive payment approval event and handle its own policy:</li>
</ul>
<pre class="language-text"><code class="language-text"># Reservation.java

package airbnb;

    @PostUpdate
    public void onPostUpdate(){
    
        ....

        if(this.getStatus().equals(&quot;reserved&quot;)) {

            ////////////////////
            // When the reservation is confirmed
            ////////////////////

            // event occurs --&gt; ReservationConfirmed
            ReservationConfirmed reservationConfirmed = new ReservationConfirmed();
            BeanUtils.copyProperties(this, reservationConfirmed);
            reservationConfirmed.publishAfterCommit();
        }
        
        ....
        
    }</code></pre>
<p>Other message services are completely separated from reservation/payment and are processed according to event reception, so there is no problem in receiving reservations even if the message service is temporarily down due to maintenance.</p>
<pre class="language-text"><code class="language-text"># Pause message service (ctrl+c)

# Reservation request
http POST http://localhost:8088/reservations roomId=1 status=reqReserve   #Success

# Check your reservation status
http GET localhost:8088/reservations    #Regardless of the message service, the reservation status is normal</code></pre>
<h2 id="operation"><a href="#operation" aria-hidden="true"><span class="icon icon-link"></span></a>operation</h2>
<h3 id="-cicd-settings"><a href="#-cicd-settings" aria-hidden="true"><span class="icon icon-link"></span></a>· CI/CD settings</h3>
<p>Each implementation was configured in their own source repository, and the CI/CD used was AWS codebuild using buildspec.yml.</p>
<ul>
<li>Create a CodeBuild project and set the AWS_ACCOUNT_ID, KUBE_URL, and KUBE_TOKEN environment variables.</li>
</ul>
<pre class="language-text"><code class="language-text">SA creation
kubectl apply -f eks-admin-service-account.yml</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119293259-ff52ec80-bc8c-11eb-8671-b9a226811762.PNG" alt="codebuild(sa)"></p>
<pre class="language-text"><code class="language-text">Create Role
kubectl apply -f eks-admin-cluster-role-binding.yml</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119293300-1abdf780-bc8d-11eb-9b07-ad173237efb1.PNG" alt="codebuild(role)"></p>
<pre class="language-text"><code class="language-text">Token confirmation
kubectl -n kube-system get secret
kubectl -n kube-system describe secret eks-admin-token-rjpmq</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119293511-84d69c80-bc8d-11eb-99c7-e8929e6a41e4.PNG" alt="codebuild(token)"></p>
<pre class="language-text"><code class="language-text">buildspec.yml file 
Set to use the yml file of the microservice room</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119283849-30292680-bc79-11eb-9f86-cbb715e74846.PNG" alt="codebuild(buildspec)"></p>
<ul>
<li>run codebuild</li>
</ul>
<pre class="language-text"><code class="language-text">codebuild project and build history</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119283851-315a5380-bc79-11eb-9b2a-b4522d22d009.PNG" alt="codebuild(프로젝트)">
<img src="https://user-images.githubusercontent.com/38099203/119283850-30c1bd00-bc79-11eb-9547-1ff1f62e48a4.PNG" alt="codebuild(로그)"></p>
<ul>
<li>codebuild build history (Message service details)</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/31723044/119385500-2b0fba00-bd01-11eb-861b-cc31910ff945.png" alt="image"></p>
<ul>
<li>codebuild build history (view full history)</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/31723044/119385401-087da100-bd01-11eb-8b69-ce222e6bb71e.png" alt="image"></p>
<h3 id="-synchronous-call--circuit-breaking--fault-isolation"><a href="#-synchronous-call--circuit-breaking--fault-isolation" aria-hidden="true"><span class="icon icon-link"></span></a>· Synchronous Call / Circuit Breaking / Fault Isolation</h3>
<ul>
<li>Circuit Breaking Framework of choice: implemented using istio</li>
</ul>
<p>The scenario is implemented by linking the connection at reservation--> room with RESTful Request/Response, and when the reservation request is excessive, fault isolation through CB.</p>
<ul>
<li>Create a DestinationRule to allow circuit break to occur. Set a minimum connection pool.</li>
</ul>
<pre class="language-text"><code class="language-text"># destination-rule.yml
apiVersion: networking.istio.io/v1alpha3
kind: DestinationRule
metadata:
  name: dr-room
  namespace: airbnb
spec:
  host: room
  trafficPolicy:
    connectionPool:
      http:
        http1MaxPendingRequests: 1
        maxRequestsPerConnection: 1
#    outlierDetection:
#      interval: 1s
#      consecutiveErrors: 1
#      baseEjectionTime: 10s
#      maxEjectionPercent: 100</code></pre>
<ul>
<li>Activate istio-injection and check the room pod container</li>
</ul>
<pre class="language-text"><code class="language-text">kubectl get ns -L istio-injection
kubectl label namespace airbnb istio-injection=enabled </code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119295450-d6812600-bc91-11eb-8aad-46eeac968a41.PNG" alt="Circuit Breaker(istio-enjection)"></p>
<p><img src="https://user-images.githubusercontent.com/38099203/119295568-0cbea580-bc92-11eb-9d2b-8580f3576b47.PNG" alt="Circuit Breaker(pod)"></p>
<ul>
<li>Check circuit breaker operation with load tester siege tool:</li>
</ul>
<p>run siege</p>
<pre class="language-text"><code class="language-text">kubectl run siege --image=apexacme/siege-nginx -n airbnb
kubectl exec -it siege -c siege -n airbnb -- /bin/bash</code></pre>
<ul>
<li>When load is created with concurrent user 1, everything is normal.</li>
</ul>
<pre class="language-text"><code class="language-text">siege -c1 -t10S -v --content-type &quot;application/json&quot; &#39;http://room:8080/rooms POST {&quot;desc&quot;: &quot;Beautiful House3&quot;}&#39;

** SIEGE 4.0.4
** Preparing 1 concurrent users for battle.
The server is now under siege...
HTTP/1.1 201     0.49 secs:     254 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.05 secs:     254 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     254 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.03 secs:     254 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     254 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     254 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.03 secs:     254 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.03 secs:     254 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.03 secs:     254 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.03 secs:     256 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.03 secs:     256 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     256 bytes ==&gt; POST http://room:8080/rooms</code></pre>
<ul>
<li>168 503 errors occurred when creating a load with simultaneous user 2</li>
</ul>
<pre class="language-text"><code class="language-text">siege -c2 -t10S -v --content-type &quot;application/json&quot; &#39;http://room:8080/rooms POST {&quot;desc&quot;: &quot;Beautiful House3&quot;}&#39;

** SIEGE 4.0.4
** Preparing 2 concurrent users for battle.
The server is now under siege...
HTTP/1.1 201     0.02 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 503     0.10 secs:      81 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.04 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.05 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.22 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.08 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.07 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 503     0.01 secs:      81 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.03 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 503     0.01 secs:      81 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     258 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 503     0.00 secs:      81 bytes ==&gt; POST http://room:8080/rooms

Lifting the server siege...
Transactions:                   1904 hits
Availability:                  91.89 %
Elapsed time:                   9.89 secs
Data transferred:               0.48 MB
Response time:                  0.01 secs
Transaction rate:             192.52 trans/sec
Throughput:                     0.05 MB/sec
Concurrency:                    1.98
Successful transactions:        1904
Failed transactions:             168
Longest transaction:            0.03
Shortest transaction:           0.00</code></pre>
<ul>
<li>check circuit break on kiali screen</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/38099203/119298194-7f7e4f80-bc97-11eb-8447-678eece29e5c.PNG" alt="Circuit Breaker(kiali)"></p>
<ul>
<li>Check the load again with the minimum connection pool again</li>
</ul>
<pre class="language-text"><code class="language-text">** SIEGE 4.0.4
** Preparing 1 concurrent users for battle.
The server is now under siege...
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.03 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.00 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.00 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.00 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms

:
:

Lifting the server siege...
Transactions:                   1139 hits
Availability:                 100.00 %
Elapsed time:                   9.19 secs
Data transferred:               0.28 MB
Response time:                  0.01 secs
Transaction rate:             123.94 trans/sec
Throughput:                     0.03 MB/sec
Concurrency:                    0.98
Successful transactions:        1139
Failed transactions:               0
Longest transaction:            0.04
Shortest transaction:           0.00</code></pre>
<ul>
<li>The operating system does not die and continuously shows that the circuit is properly opened and closed by CB to protect the resource. Post-processing to expand the system through virtualhost configuration and dynamic scale out (automatic addition of replica, HPA) is required.</li>
</ul>
<p><strong>Auto Scale Out Previously</strong>
CB enabled stable operation of the system, but it did not accept 100% of the user's request, so we want to apply an automated extension function as a complement to this.</p>
<ul>
<li>Add resources configuration to room deployment.yml file
<img src="https://user-images.githubusercontent.com/38099203/119283787-0a038680-bc79-11eb-8d9b-d8aed8847fef.PNG" alt="Autoscale (HPA)"></li>
<li>Configure HPA to dynamically grow replicas for the room service. The setting increases the number of replicas to 10 when CPU usage exceeds 50%:</li>
</ul>
<pre class="language-text"><code class="language-text">kubectl autoscale deployment room -n airbnb --cpu-percent=50 --min=1 --max=10</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119299474-ec92e480-bc99-11eb-9bc3-8c5246b02783.PNG" alt="Autoscale (HPA)(kubectl autoscale 명령어)"></p>
<ul>
<li>Load 100 concurrent users for 1 minute.</li>
</ul>
<pre class="language-text"><code class="language-text">siege -c100 -t60S -v --content-type &quot;application/json&quot; &#39;http://room:8080/rooms POST {&quot;desc&quot;: &quot;Beautiful House3&quot;}&#39;</code></pre>
<ul>
<li>Monitor how the autoscale is going</li>
</ul>
<pre class="language-text"><code class="language-text">kubectl get deploy room -w -n airbnb </code></pre>
<ul>
<li>After some time (about 30 seconds) you can see the scale out occurs:
<img src="https://user-images.githubusercontent.com/38099203/119299704-6a56f000-bc9a-11eb-9ba8-55e5978f3739.PNG" alt="Autoscale (HPA)(모니터링)"></li>
<li>If you look at the log of siege, you can see that the overall success rate has increased.</li>
</ul>
<pre class="language-text"><code class="language-text">Lifting the server siege...
Transactions:                  15615 hits
Availability:                 100.00 %
Elapsed time:                  59.44 secs
Data transferred:               3.90 MB
Response time:                  0.32 secs
Transaction rate:             262.70 trans/sec
Throughput:                     0.07 MB/sec
Concurrency:                   85.04
Successful transactions:       15675
Failed transactions:               0
Longest transaction:            2.55
Shortest transaction:           0.01</code></pre>
<h3 id="-uninterrupted-redistribution"><a href="#-uninterrupted-redistribution" aria-hidden="true"><span class="icon icon-link"></span></a>· Uninterrupted redistribution</h3>
<ul>
<li>First, remove Autoscaler or CB settings to check whether non-stop redistribution is 100%.</li>
</ul>
<pre class="language-text"><code class="language-text">kubectl delete destinationrules dr-room -n airbnb
kubectl label namespace airbnb istio-injection-
kubectl delete hpa room -n airbnb</code></pre>
<ul>
<li>Monitoring the workload right before deployment with seige.</li>
</ul>
<pre class="language-text"><code class="language-text">siege -c100 -t60S -r10 -v --content-type &quot;application/json&quot; &#39;http://room:8080/rooms POST {&quot;desc&quot;: &quot;Beautiful House3&quot;}&#39;

** SIEGE 4.0.4
** Preparing 1 concurrent users for battle.
The server is now under siege...
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.03 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.00 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.02 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms
HTTP/1.1 201     0.01 secs:     260 bytes ==&gt; POST http://room:8080/rooms</code></pre>
<ul>
<li>Start deploying to a new version</li>
</ul>
<pre class="language-text"><code class="language-text">kubectl set image ...</code></pre>
<ul>
<li>Go to seige's screen and check if Availability has dropped below 100%</li>
</ul>
<pre class="language-text"><code class="language-text">siege -c100 -t60S -r10 -v --content-type &quot;application/json&quot; &#39;http://room:8080/rooms POST {&quot;desc&quot;: &quot;Beautiful House3&quot;}&#39;


Transactions:                   7732 hits
Availability:                  87.32 %
Elapsed time:                  17.12 secs
Data transferred:               1.93 MB
Response time:                  0.18 secs
Transaction rate:             451.64 trans/sec
Throughput:                     0.11 MB/sec
Concurrency:                   81.21
Successful transactions:        7732
Failed transactions:            1123
Longest transaction:            0.94
Shortest transaction:           0.00</code></pre>
<ul>
<li>During the distribution period, it was confirmed that the availability fell from 100% to 87%. The reason is that Kubernetes recognized the newly uploaded service as a READY state and proceeded to introduce the service. To prevent this, readiness probe is set.</li>
</ul>
<pre class="language-text"><code class="language-text"># Configure readiness probe in deployment.yaml:</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119301424-71333200-bc9d-11eb-9f75-f8c98fce70a3.PNG" alt="probe설정"></p>
<pre class="language-text"><code class="language-text">kubectl apply -f kubernetes/deployment.yml</code></pre>
<ul>
<li>Check Availability after redeploying with the same scenario:</li>
</ul>
<pre class="language-text"><code class="language-text">Lifting the server siege...
Transactions:                  27657 hits
Availability:                 100.00 %
Elapsed time:                  59.41 secs
Data transferred:               6.91 MB
Response time:                  0.21 secs
Transaction rate:             465.53 trans/sec
Throughput:                     0.12 MB/sec
Concurrency:                   99.60
Successful transactions:       27657
Failed transactions:               0
Longest transaction:            1.20
Shortest transaction:           0.00</code></pre>
<p>Uninterrupted redistribution is confirmed to be successful because availability does not change during the distribution period.</p>
<h2 id="self-healing-liveness-probe"><a href="#self-healing-liveness-probe" aria-hidden="true"><span class="icon icon-link"></span></a>Self-healing (Liveness Probe)</h2>
<ul>
<li>Edit room deployment.yml file</li>
</ul>
<pre class="language-text"><code class="language-text">After running the container, create a /tmp/healthy file
Delete after 90 seconds
Make livenessProbe validate with &#39;cat /tmp/healthy&#39;</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119318677-8ff0f300-bcb4-11eb-950a-e3c15feed325.PNG" alt="deployment yml tmp healthy"></p>
<ul>
<li>Check by running kubectl describe pod room -n airbnb</li>
</ul>
<pre class="language-text"><code class="language-text">After 90 seconds of running the container, the driver is normal, but after that, the /tmp/healthy file is deleted and livenessProbe returns a failure.
If the pod is in a normal state, enter the pod and create a /tmp/healthy file to maintain the normal state.</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119318781-a9923a80-bcb4-11eb-9783-65051ec0d6e8.PNG" alt="get pod tmp healthy">
<img src="https://user-images.githubusercontent.com/38099203/119319050-f118c680-bcb4-11eb-8bca-aa135c1e067e.PNG" alt="touch tmp healthy"></p>
<h2 id="config-map-persistence-volume"><a href="#config-map-persistence-volume" aria-hidden="true"><span class="icon icon-link"></span></a>Config Map/ Persistence Volume</h2>
<ul>
<li>Persistence Volume</li>
</ul>
<p>1: Create EFS</p>
<pre class="language-text"><code class="language-text">You must select a VPC for your cluster when creating EFS</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119364089-85048580-bce9-11eb-8001-1c20a93b8e36.PNG" alt="You must choose a VPC for your cluster"></p>
<p><img src="https://user-images.githubusercontent.com/38099203/119343415-60041880-bcd1-11eb-9c25-1695c858f6aa.PNG" alt="Create EFS"></p>
<ol start="2">
<li>EFS account creation and ROLE binding</li>
</ol>
<pre class="language-text"><code class="language-text">kubectl apply -f efs-sa.yml

apiVersion: v1
kind: ServiceAccount
metadata:
  name: efs-provisioner
  namespace: airbnb


kubectl get ServiceAccount efs-provisioner -n airbnb
NAME              SECRETS   AGE
efs-provisioner   1         9m1s  
  
  
  
kubectl apply -f efs-rbac.yaml

You must edit the namespace

  
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: efs-provisioner-runner
  namespace: airbnb
rules:
  - apiGroups: [&quot;&quot;]
    resources: [&quot;persistentvolumes&quot;]
    verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;create&quot;, &quot;delete&quot;]
  - apiGroups: [&quot;&quot;]
    resources: [&quot;persistentvolumeclaims&quot;]
    verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;update&quot;]
  - apiGroups: [&quot;storage.k8s.io&quot;]
    resources: [&quot;storageclasses&quot;]
    verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;]
  - apiGroups: [&quot;&quot;]
    resources: [&quot;events&quot;]
    verbs: [&quot;create&quot;, &quot;update&quot;, &quot;patch&quot;]
---
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: run-efs-provisioner
  namespace: airbnb
subjects:
  - kind: ServiceAccount
    name: efs-provisioner
     # replace with namespace where provisioner is deployed
    namespace: airbnb
roleRef:
  kind: ClusterRole
  name: efs-provisioner-runner
  apiGroup: rbac.authorization.k8s.io
---
kind: Role
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: leader-locking-efs-provisioner
  namespace: airbnb
rules:
  - apiGroups: [&quot;&quot;]
    resources: [&quot;endpoints&quot;]
    verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;create&quot;, &quot;update&quot;, &quot;patch&quot;]
---
kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: leader-locking-efs-provisioner
  namespace: airbnb
subjects:
  - kind: ServiceAccount
    name: efs-provisioner
    # replace with namespace where provisioner is deployed
    namespace: airbnb
roleRef:
  kind: Role
  name: leader-locking-efs-provisioner
  apiGroup: rbac.authorization.k8s.io</code></pre>
<ol start="3">
<li>Deploy EFS Provisioner</li>
</ol>
<pre class="language-text"><code class="language-text">kubectl apply -f efs-provisioner-deploy.yml

apiVersion: apps/v1
kind: Deployment
metadata:
  name: efs-provisioner
  namespace: airbnb
spec:
  replicas: 1
  strategy:
    type: Recreate
  selector:
    matchLabels:
      app: efs-provisioner
  template:
    metadata:
      labels:
        app: efs-provisioner
    spec:
      serviceAccount: efs-provisioner
      containers:
        - name: efs-provisioner
          image: quay.io/external_storage/efs-provisioner:latest
          env:
            - name: FILE_SYSTEM_ID
              value: fs-562f9c36
            - name: AWS_REGION
              value: ap-northeast-2
            - name: PROVISIONER_NAME
              value: my-aws.com/aws-efs
          volumeMounts:
            - name: pv-volume
              mountPath: /persistentvolumes
      volumes:
        - name: pv-volume
          nfs:
            server: fs-562f9c36.efs.ap-northeast-2.amazonaws.com
            path: /


kubectl get Deployment efs-provisioner -n airbnb
NAME              READY   UP-TO-DATE   AVAILABLE   AGE
efs-provisioner   1/1     1            1           11m</code></pre>
<ol start="4">
<li>Register the installed provisioner to storageclass</li>
</ol>
<pre class="language-text"><code class="language-text">kubectl apply -f efs-storageclass.yml


kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: aws-efs
  namespace: airbnb
provisioner: my-aws.com/aws-efs


kubectl get sc aws-efs -n airbnb
NAME            PROVISIONER             RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE
aws-efs         my-aws.com/aws-efs      Delete          Immediate              false                  4s</code></pre>
<ol start="5">
<li>Create a PersistentVolumeClaim (PVC)</li>
</ol>
<pre class="language-text"><code class="language-text">kubectl apply -f volume-pvc.yml


apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: aws-efs
  namespace: airbnb
  labels:
    app: test-pvc
spec:
  accessModes:
  - ReadWriteMany
  resources:
    requests:
      storage: 6Ki
  storageClassName: aws-efs
  
  
kubectl get pvc aws-efs -n airbnb
NAME      STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
aws-efs   Bound    pvc-43f6fe12-b9f3-400c-ba20-b357c1639f00   6Ki        RWX            aws-efs        4m44s</code></pre>
<ol start="6">
<li>room pod application</li>
</ol>
<pre class="language-text"><code class="language-text">kubectl apply -f deployment.yml</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119349966-bd9c6300-bcd9-11eb-9f6d-08e4a3ec82f0.PNG" alt="pod with pvc"></p>
<ol start="7">
<li>Create a file in the mounted path in pod A and check the file in pod B</li>
</ol>
<pre class="language-text"><code class="language-text">NAME                              READY   STATUS    RESTARTS   AGE
efs-provisioner-f4f7b5d64-lt7rz   1/1     Running   0          14m
room-5df66d6674-n6b7n             1/1     Running   0          109s
room-5df66d6674-pl25l             1/1     Running   0          109s
siege                             1/1     Running   0          2d1h


kubectl exec -it pod/room-5df66d6674-n6b7n room -n airbnb -- /bin/sh
/ # cd /mnt/aws
/mnt/aws # touch intensive_course_work</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119372712-9736f180-bcf2-11eb-8e57-1d6e3f4273a5.PNG" alt="Create a file in a pod"></p>
<pre class="language-text"><code class="language-text">kubectl exec -it pod/room-5df66d6674-pl25l room -n airbnb -- /bin/sh
/ # cd /mnt/aws
/mnt/aws # ls -al
total 8
drwxrws--x    2 root     2000          6144 May 24 15:44 .
drwxr-xr-x    1 root     root            17 May 24 15:42 ..
-rw-r--r--    1 root     2000             0 May 24 15:44 intensive_course_work</code></pre>
<p><img src="https://user-images.githubusercontent.com/38099203/119373196-204e2880-bcf3-11eb-88f0-a1e91a89088a.PNG" alt="b Confirm file creation in pod"></p>
<ul>
<li>Config Map</li>
</ul>
<p>1: Create cofingmap.yml file</p>
<pre class="language-text"><code class="language-text">kubectl apply -f cofingmap.yml


apiVersion: v1
kind: ConfigMap
metadata:
  name: airbnb-config
  namespace: airbnb
data:
  # 단일 key-value
  max_reservation_per_person: &quot;10&quot;
  ui_properties_file_name: &quot;user-interface.properties&quot;</code></pre>
<ol start="2">
<li>Apply to deployment.yml</li>
</ol>
<pre class="language-text"><code class="language-text">kubectl apply -f deployment.yml


.......
          env:
			# single key-value in cofingmap
            - name: MAX_RESERVATION_PER_PERSION
              valueFrom:
                configMapKeyRef:
                  name: airbnb-config
                  key: max_reservation_per_person
           - name: UI_PROPERTIES_FILE_NAME
              valueFrom:
                configMapKeyRef:
                  name: airbnb-config
                  key: ui_properties_file_name
          volumeMounts:
          - mountPath: &quot;/mnt/aws&quot;
            name: volume
      volumes:
        - name: volume
          persistentVolumeClaim:
            claimName: aws-efs</code></pre>
</div><div class="mt-8 pt-8 lg:mt-12 lg:pt-12 border-t border-ui-border"><div><div class="flex flex-col sm:flex-row justify-between items-center"><!----><!----></div></div></div></div></div></div></main></div><!----><div data-v-0b7eee81><div style="width:100%; padding-bottom:30px; background-color:#1E88E5;" data-v-0b7eee81><div class="flex logo-style" data-v-0b7eee81><div data-v-0b7eee81><a href="https://www.uengine.org/index.html" target="_blank" data-v-0b7eee81><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 2170 451' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-48fe12959b04fbca758ba00b1361f424'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-48fe12959b04fbca758ba00b1361f424)' width='2170' height='451' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAANCAYAAAAZr2hsAAAACXBIWXMAAC4jAAAuIwF4pT92AAAG60lEQVRIx51WCVBURxBdFhC5FNFoxCgajCbKwi6IgkdUDvEWjcZQQhQBCYYUxioRj0jUcERLxTuaaLziiVEQjQiKhlvk8haRqKhBU4g3Qf7fyeu/s%2b5H0KTyq15N93RP/%2b6enp5RHDZ9T0HfWYXuW207dBSNH/hvmu8cdoC5RiTVe0SnsSGxZ5lXQhEbvvIi847Nue8dl9OT9Hzico1pHJaQr9BqRckGY6KRnua8hLd9/yb/L2sYExT/69th7iQFsc1c3XeHZV%2b2xdJtAvGakJ3pHtGnmPuc1CMDF6QHfhyTGeq5NGvesGWFDIFf8o0rMJOCj88zkjmllNFOgLWMtwFcgF6AGnDW8UI3Q6IEDvFVUPpkarXCq2RSkvlcK%2bj0fD3ZpEt4fQP0slfJ22XWW/Gr2fsSvb9F94zUlo5sq5WLH/FeUzd3dpt1%2bIlH1LHbg2My2%2bt/gt2PG732GkPgu4gfvDDTSDEplQwruVOt4dRKJn2iu8y5LYxpGeRPQN8BbgOPobuNy40JFDBBn0yeFGND8MKr3QYfDDwEWshsKPWbAT0jQ/J0Ngx6kB03sZV2/5ix7ae5pnYMR2IP8RPHLTal0X3uoXGesfnMc2k281pyut4nLuulT3zOkxErytjodeXMNyF/LunN3nnehBvuBMNfY1yHsQyB6INwhxMVGFOBDMybQOcdwBawfHOZC82WNta0lu2uQ9PjIMqqUjCSy5vYy1KaW5wysriZbmSlPdmybQ%2baq3HrF/bcxWMe0eYBFWq7iOve9rNvedlH/ek1cGnRuBEJucOHJ%2bTnjl11gfnGZo/U20KQYxFcZ/ywDD8Kl/30IrARiIcsrbmAgEQgAsgFrkI3UCYPI5uw/Tvmc0B/CboHxlIgXv9vyBaDXw5cA9KBLjLfsEa4gDn4Im6Fru545rW0WFRpZsmyTCy%2bJb64v7vNQ43nvSteg1hukXojq3L4nlV0jmPXOsUJl%2bxiGVNYkF7bkN1pdjNTWJcZewKI33zickvubCCcuyUr00jdcRDozC8BngLrgYP6IHl/eA4HD/MeEQNaxGiOcShGLUY/6HuSJdChfN1O/KvKkCTp2IVzG5ehf5DLIqBXSUcSc/YYM4H9inOtzO1LbKxYobXl7cJ2XaWM3Og3Znldn/FsWZx7Q0KxK3tR7sJeXNWw2gtqVl/hxuqKu21QBB6eYxV5krWYujuJ1iz4pVQpK8k/yBm%2b8/6gV8PhQi6nXb4PLATWQj7WUAHCXei583UWQC3QA3O0qzmGnRSTwO/l9BTabW7jC6oSWdWEQn6J0zdg5yfY6wsMBD2HUqW43rnN0TsdbFhpK5tJpFjUf4KmUuXfkDZ5pHb6CTXzP6jJO5Sual9/rpfNmWMDOmKJTWB89CfWoQeYRdDeWtvQfdI9uj2rwpSXGbIvVPKfhoD2xpgMLDI0QvF4M0fAmifAm/O2cJ4SpcY4iqoD6A55R%2bAZ6Flcj3a73EALF2XHboauD1EyxQdABrAD2EMJhN21ikcOjimipwPTrjFzpkVlrkEnrnuEsKgt/eqD0zXsTJ76pnDNKbW6xCmJlXdoRTomUw/kWM78jVlO3yOVr%2buCo1LwLxsaqNmU46eTYfwz0BPpigPQ/EQkQlBhPhEONUkA5pAAsQrw5MG0Ae4CQzm/m98c1B/iZZ0%2bhPoFD5gq4HzjChDKOF0N%2bZQm3fSlIsBanNPuKUtU5ucOCgi62CuS/Rg5WpiS7sS%2bS9E8ri1xuvegWFV7J1%2blZZfsFyunJcdYR56i4PfReozKv568MOZBkAN/A/MQ6EQ%2bt5mcAmZyJ9dDdg%2bYzJ0Ph84Q8JaQPQI/TF8B1Csg88DYE6Dm9Q0PPkB/c0A%2bkxLD13xFpS5LAFXELU7PA%2bqA0XSsMEbRO0WnmGgyjsXbspw%2bweKhAWFieJILC0pRP5uf4qLRmdogZbvr5Chfi893MJuQXQ/Ng/Z3pLn24Qdw1zJj/pNttENw6iOZE7j2xCMI0FrvMO0KUIB5whXQyyE3BY0GKLjqjwTm6OioACvetY8Dm6jKqFlyvbFU0ty2H5W47AiMAXbK%2bGjIr%2buao3iUEqv4WbFKcj7bd%2bIPmR8uYTHxPiwgw4lty9A8a7jsdPpBqSr7fpEqp6akd%2baZZLcHGamebPN2P%2bl6i14dLN39qIBGd7P8RYiftm7ulfi2T/%2bCk61rATjK%2bGlADRJkLGuMb3x6N/NGMDCp7jOkB8MWxSPrNeODM6cnq2tmJWuqK/Kcax6WquqqzznW3StwfFGV6/j8fkGvurrS7itI/93gjTjvIPy2NnKav9SU8h/Jn666p6gof9I2mZOt0VcWGqFA/YHu/zQqedk1qGy8RmgU6GvPYZmuIL0S/wGYLJmIlQztVAAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="2170" data-src="/assets/static/uEngine_logo.91c82d7.d28931ee5f783778a460e9be66285c59.png" data-srcset="/assets/static/uEngine_logo.82a2fbd.d28931ee5f783778a460e9be66285c59.png 480w, /assets/static/uEngine_logo.cbab2cf.d28931ee5f783778a460e9be66285c59.png 1024w, /assets/static/uEngine_logo.91c82d7.d28931ee5f783778a460e9be66285c59.png 2170w" data-sizes="(max-width: 2170px) 100vw, 2170px" class="g-image g-image--lazy g-image--loading" data-v-0b7eee81 data-v-0b7eee81><noscript data-v-0b7eee81 data-v-0b7eee81><img src="/assets/static/uEngine_logo.91c82d7.d28931ee5f783778a460e9be66285c59.png" class="g-image g-image--loaded" width="2170"></noscript></a></div></div><div style="width:100%; text-align:center; font-size:14px; color:white; font-weight:300; line-height:1.5; padding-top:20px;" data-v-0b7eee81><div data-v-0b7eee81><div data-v-0b7eee81><div class="footer-top-div" data-v-0b7eee81>© MSA-Ez Authors 2024.  </div><div class="footer-top-div" data-v-0b7eee81>© 2024 uEngine All rights reserved.</div></div><div data-v-0b7eee81>
                    uEngine has registered trademarks and uses trademarks. and MSA-Ez is licensed under the GNU General Public License version 3.0.
                </div></div><div class="footer-bot" data-v-0b7eee81><div data-v-0b7eee81><a href="https://www.gnu.org/licenses/gpl-3.0.en.html#license-text" target="_blank" style="color:#fff;" data-v-0b7eee81>
                        See LICENSE
                    </a>
                      |   
                </div><div data-v-0b7eee81><a href="https://github.com/msa-ez/platform" target="_blank" style="color:#fff;" data-v-0b7eee81>
                        Github Site
                    </a>
                      |   
                </div><div data-v-0b7eee81>E-Mail: help@uengine.org</div></div></div></div></div></div>
    <script src="/assets/js/app.9456a09b.js" defer></script><script src="/assets/js/page--src-templates-markdown-page-vue.01de0cdb.js" defer></script>
  </body>
</html>
