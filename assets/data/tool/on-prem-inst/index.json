{"hash":"fa5fedf1848133ded319caa58f5dc027d2a72899","data":{"markdownPage":{"id":"e1060ebab66912c625c3067356759b40","title":"Installing on-premise MSA-Easy","description":"","path":"/tool/on-prem-inst/","timeToRead":1,"content":"<h1 id=\"installing-on-premise-msa-easy\"><a href=\"#installing-on-premise-msa-easy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Installing on-premise MSA-Easy</h1>\n<h3 id=\"1-clone-helm-charts\"><a href=\"#1-clone-helm-charts\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1. Clone helm Charts</h3>\n<pre class=\"language-text\"><code class=\"language-text\">git clone https://github.com/msa-ez/on-prem-helm.git</code></pre>\n<hr>\n<h3 id=\"2-create--connect-kubernetes-cluster\"><a href=\"#2-create--connect-kubernetes-cluster\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2. Create &#x26; Connect Kubernetes Cluster</h3>\n<hr>\n<h3 id=\"3-install-helm-chart-based-msa-easy\"><a href=\"#3-install-helm-chart-based-msa-easy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>3. Install helm chart-based MSA-Easy</h3>\n<ul>\n<li>Cluster ip: <code>kubectl cluster-info</code></li>\n<li>Domain: A domain from DNS Service</li>\n<li>\n<p>token: <code>kubectl describe secret default</code></p>\n<h4 id=\"1-contents-to-edit-from-each-yaml-files\"><a href=\"#1-contents-to-edit-from-each-yaml-files\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1. Contents to edit from each yaml files</h4>\n<ul>\n<li><b>deployment.yaml</b>: Cluster ip, Domain, token</li>\n<li><b>values.yaml</b>: Cluster ip, Domain</li>\n<li><b>2q</b>: Domain  </li>\n<li><b>ingress.yaml</b>: Domain </li>\n<li>\n<p><b>issuer.yaml</b> Domain</p>\n<ul>\n<li>Remark everything from <b>issuer.yaml</b> after edit</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"2-helm-install-on-prem-\"><a href=\"#2-helm-install-on-prem-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2. helm install on-prem .</h4>\n<ul>\n<li>After on-prem install, delete remarks from <b>issuer.yaml</b></li>\n</ul>\n<h4 id=\"3-apply-issuer-secretsyaml\"><a href=\"#3-apply-issuer-secretsyaml\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>3. Apply issuer, secrets.yaml</h4>\n<pre class=\"language-text\"><code class=\"language-text\">kubectl apply -f issuer.yaml, secrets.yaml</code></pre>\n<h4 id=\"4-install-ingress-nginx\"><a href=\"#4-install-ingress-nginx\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>4. Install ingress-nginx</h4>\n<pre class=\"language-text\"><code class=\"language-text\">  helm upgrade --install ingress-nginx ingress-nginx \\\n    --repo https://kubernetes.github.io/ingress-nginx \\\n    --namespace ingress-nginx --create-namespace</code></pre>\n</li>\n</ul>\n<hr>\n<h3 id=\"4-create--set-dns-service-domain-record\"><a href=\"#4-create--set-dns-service-domain-record\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>4. Create &#x26; Set DNS Service Domain Record</h3>\n<h4 id=\"1-create-record\"><a href=\"#1-create-record\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1. Create Record</h4>\n<p>  <img src=\"https://user-images.githubusercontent.com/65217813/192461326-ad37d114-cc4e-4fb8-8813-f45270e31c7d.png\" alt=\"createRecord1\"></p>\n<ul>\n<li>\n<p>Create Records for gitlab, kas, minio, registry, *, api, www, file, acebase\n<img width=\"1007\" alt=\"onprem_createRecord\" src=\"https://user-images.githubusercontent.com/65217813/192455799-0f3300f6-7fd9-4ef6-8665-8b5fbafb9831.png\"></p>\n<h4 id=\"1-edit-recordgitlab-kas-minio-registry\"><a href=\"#1-edit-recordgitlab-kas-minio-registry\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1. edit record(gitlab, kas, minio, registry)</h4>\n</li>\n<li>IP to register : <code>kubectl get ing</code>\n<img src=\"https://user-images.githubusercontent.com/65217813/192466549-3336cd69-9a73-440a-843b-0711822f371d.png\" alt=\"getIngress\"></li>\n<li>\n<p>edit IP\n<img src=\"https://user-images.githubusercontent.com/65217813/192468220-9a1670b3-9ec3-4ffe-98c7-7dc86c6e1778.png\" alt=\"editIngressRecord\"></p>\n<h4 id=\"2-edit-record-api-www-file-acebase\"><a href=\"#2-edit-record-api-www-file-acebase\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2. edit record(*, api, www, file, acebase)</h4>\n</li>\n<li>IP to register : <code>kubectl get svc -n ingress-nginx</code>/ external-ip </li>\n<li>edit in the same way as above</li>\n</ul>\n<hr>\n<h3 id=\"5-install-operator-related-to-ide\"><a href=\"#5-install-operator-related-to-ide\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>5. install operator related to ide</h3>\n<h4 id=\"1-install-operator\"><a href=\"#1-install-operator\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1. Install Operator</h4>\n<pre class=\"language-text\"><code class=\"language-text\">cd ide-operator\nmake deploy IMG=gcr.io/eventstorming-tool/theia-ide-lab:v137</code></pre>\n<hr>\n<h3 id=\"6-install-nfs\"><a href=\"#6-install-nfs\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>6. Install NFS</h3>\n<h4 id=\"1-bvaluesyamldiskb-editinto-the-disk-name-to-connect-to-the-cluster\"><a href=\"#1-bvaluesyamldiskb-editinto-the-disk-name-to-connect-to-the-cluster\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1. <b>values.yaml/disk</b> edit(into the disk name to connect to the cluster)</h4>\n<h4 id=\"2-install-nfs\"><a href=\"#2-install-nfs\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2. install nfs</h4>\n<pre class=\"language-text\"><code class=\"language-text\">cd gcp_helm\nhelm install gcp-msaez .</code></pre>\n<hr>\n","sidebar":"started","next":"","prev":"","headings":[{"depth":1,"value":"Installing on-premise MSA-Easy","anchor":"#installing-on-premise-msa-easy"},{"depth":3,"value":"1. Clone helm Charts","anchor":"#1-clone-helm-charts"},{"depth":3,"value":"2. Create & Connect Kubernetes Cluster","anchor":"#2-create--connect-kubernetes-cluster"},{"depth":3,"value":"3. Install helm chart-based MSA-Easy","anchor":"#3-install-helm-chart-based-msa-easy"},{"depth":4,"value":"1. Contents to edit from each yaml files","anchor":"#1-contents-to-edit-from-each-yaml-files"},{"depth":4,"value":"2. helm install on-prem .","anchor":"#2-helm-install-on-prem-"},{"depth":4,"value":"3. Apply issuer, secrets.yaml","anchor":"#3-apply-issuer-secretsyaml"},{"depth":4,"value":"4. Install ingress-nginx","anchor":"#4-install-ingress-nginx"},{"depth":3,"value":"4. Create & Set DNS Service Domain Record","anchor":"#4-create--set-dns-service-domain-record"},{"depth":4,"value":"1. Create Record","anchor":"#1-create-record"},{"depth":4,"value":"1. edit record(gitlab, kas, minio, registry)","anchor":"#1-edit-recordgitlab-kas-minio-registry"},{"depth":4,"value":"2. edit record(*, api, www, file, acebase)","anchor":"#2-edit-record-api-www-file-acebase"},{"depth":3,"value":"5. install operator related to ide","anchor":"#5-install-operator-related-to-ide"},{"depth":4,"value":"1. Install Operator","anchor":"#1-install-operator"},{"depth":3,"value":"6. Install NFS","anchor":"#6-install-nfs"},{"depth":4,"value":"1. values.yaml/disk edit(into the disk name to connect to the cluster)","anchor":"#1-bvaluesyamldiskb-editinto-the-disk-name-to-connect-to-the-cluster"},{"depth":4,"value":"2. install nfs","anchor":"#2-install-nfs"}]},"allMarkdownPage":{"edges":[{"node":{"path":"/tool/marketplace/","title":"Template/Topping Marketplace"}},{"node":{"path":"/tool/infrastructure-modeling/","title":"Infrastructure Modeling (Kubernetes)"}},{"node":{"path":"/operations/istio-metric-based-hpa/","title":"[Service Mesh] Istio Metrics based HPA"}},{"node":{"path":"/development/ops-docker/","title":"Application Packaging with Container (Docker)"}},{"node":{"path":"/tool/google-drive-examples/","title":"Google Drive Examples"}},{"node":{"path":"/tool/on-prem-inst/","title":"Installing on-premise MSA-Easy"}},{"node":{"path":"/tool/event-storming-tool/","title":"EventStorming"}},{"node":{"path":"/tool/cloud-ide-tool/","title":"Cloud IDE"}},{"node":{"path":"/tool/development-practice/","title":"Registration Course"}},{"node":{"path":"/tool/attending-lectures/","title":"Attending lectures"}},{"node":{"path":"/operations/ops-persistence-volume-azure/","title":"파일공유를 위한 클라우드 스토리지 활용(Azure)"}},{"node":{"path":"/templates-language/python-template/","title":"Python template "}},{"node":{"path":"/templates-language/springboot-java-template/","title":"Spring Boot/Java Template"}},{"node":{"path":"/tool/chat-gpt/","title":"Chat GPT-based Model Generation"}},{"node":{"path":"/templates-language/go-template/","title":"Go Template "}},{"node":{"path":"/operations/service/","title":"12번가 마이크로서비스 라우터(Service) 생성"}},{"node":{"path":"/operations/ops-utility/","title":"쿠버네티스 유틸리티"}},{"node":{"path":"/operations/service-mesh-ab-testing/","title":"Istio based A/B testing 배포"}},{"node":{"path":"/operations/ops-service-mesh-istio-2/","title":"[Service Mesh] Istio-2"}},{"node":{"path":"/operations/ops-persistence-volume/","title":"파일시스템 (볼륨) 연결과 데이터베이스 설정"}},{"node":{"path":"/operations/ops-service-mesh-istio/","title":"[Service Mesh] Istio"}},{"node":{"path":"/operations/ops-readiness/","title":"셀프힐링 & 무정지 배포 실습"}},{"node":{"path":"/operations/ops-pod-status/","title":"Pod 상태값에 따른 마이크로서비스 트러블 슈팅"}},{"node":{"path":"/operations/ops-persistence-volume-efs/","title":"파일공유를 위한 NAS 스토리지 생성과 설정"}},{"node":{"path":"/operations/ops-persistence-volume-gcp/","title":"파일공유를 위한 클라우드 스토리지 활용(GCP)"}},{"node":{"path":"/operations/ops-liveness/","title":"셀프힐링 실습"}},{"node":{"path":"/operations/ops-ingress-virtualhost/","title":"Ingress - Virtual Host based"}},{"node":{"path":"/operations/ops-label-annotation/","title":"Labels and Annotations"}},{"node":{"path":"/operations/ops-kubernetes/","title":"Kubernetes Basic Command"}},{"node":{"path":"/operations/ops-ingress/","title":"Ingress 를 통한 진입점 통일 - Path-based routing"}},{"node":{"path":"/operations/ops-aws-setting/","title":"AWS Cloud Setup(EKS, ECR 설정)"}},{"node":{"path":"/operations/ops-configmap/","title":"Kubernetes에 환경변수 구성하기"}},{"node":{"path":"/operations/ops-deploy-my-app/","title":"애플리케이션 패키징,도커라이징,클러스터 배포"}},{"node":{"path":"/operations/ops-aws-csi-setting/","title":"AWS Cloud Setup(Container Storage Interface)"}},{"node":{"path":"/operations/ops-autoscale/","title":"Pod Auto Scaling"}},{"node":{"path":"/operations/ops-argo-rollout-canary-istio/","title":"[GitOps] Argo Rollout 와 Istio 를 통한 카나리 배포"}},{"node":{"path":"/operations/ops-anatomy-kubernetes/","title":"쿠버네티스 내부구조 분석"}},{"node":{"path":"/operations/microservice-logging2/","title":"마이크로서비스 통합 로깅 with Loki stack"}},{"node":{"path":"/operations/istio-sre-monitoring/","title":"Service Reliability Engineering"}},{"node":{"path":"/operations/microservice-logging/","title":"마이크로서비스 통합 로깅 with EFK stack"}},{"node":{"path":"/operations/istio-traffic/","title":"[Service Mesh] Istio 를 통한 동적 트래픽 라우팅"}},{"node":{"path":"/operations/k8s-monitoring/","title":"MSA 모니터링 with installing Grafana"}},{"node":{"path":"/operations/istio-resiliency-part2/","title":"[Service Mesh] Istio 를 통한 서비스 회복성 Part2 - 서킷브레이커"}},{"node":{"path":"/operations/istio-msa-telemetry/","title":"[Service Mesh] MSA 모니터링 w/ Istio addon Grafana"}},{"node":{"path":"/operations/istio-resiliency-part1/","title":"[Service Mesh] Istio 를 통한 서비스 회복성 Part1 - 타임아웃/재시도"}},{"node":{"path":"/started/domain-driven/","title":"Domain-Driven Design Learning"}},{"node":{"path":"/operations/end-to-end/","title":"12번가 전체 마이크로서비스의 배포"}},{"node":{"path":"/operations/apply-security-to-12st-mall/","title":"12번가 Mall에 토큰인증 적용하기"}},{"node":{"path":"/started/event-storming-learning/","title":"Event Storming Learning"}},{"node":{"path":"/operations/gitops-argo-cd/","title":"[GitOps] Argo CD 를 통한 카나리 배포"}},{"node":{"path":"/operations/azure/","title":"Azure Cloud Setup (AKS, ACR 설정)"}},{"node":{"path":"/started/","title":"Introduction"}},{"node":{"path":"/development/kafka-connect/","title":"CDC(Change Data Capture) with Kafka"}},{"node":{"path":"/custom-template/unit-test/","title":"Unit Test Creation Topping(New)"}},{"node":{"path":"/custom-template/mock-server/","title":"Open API 3.0-based Mock Server Generation Topping(New)"}},{"node":{"path":"/custom-template/tutorial/","title":"Concept of Custom Template"}},{"node":{"path":"/example-scenario/animal-hospital/","title":"Veterinary Practice Management System"}},{"node":{"path":"/example-scenario/food-delivery/","title":"food delivery"}},{"node":{"path":"/custom-template/designing-template/","title":"Developing Custom Template"}},{"node":{"path":"/example-scenario/accommodation-reservation/","title":"AirBnB"}},{"node":{"path":"/example-scenario/online-lecture/","title":"Internet lecture system"}},{"node":{"path":"/custom-template/custom-template/","title":"Custom Template Objects"}},{"node":{"path":"/example-scenario/library-system/","title":"library system"}},{"node":{"path":"/development/pubsub-idempotency/","title":"Pub/Sub Communication - Choreography with Idempotency"}},{"node":{"path":"/development/understanding-jpa-based-single-microservice/","title":"Understanding JPA Based Single Microservice"}},{"node":{"path":"/development/token-based-auth/","title":"JWT Token-based Authorization"}},{"node":{"path":"/development/pub-sub/","title":"Pub/Sub Communication"}},{"node":{"path":"/development/orchestration-saga/","title":"Orchestration Saga with Axon Framework"}},{"node":{"path":"/development/pubsub-deadline/","title":"Pub/Sub Communication - Choreography with Deadline added"}},{"node":{"path":"/development/oauth2with-keycloak/","title":"JWT Token-based Authorization - Advanced"}},{"node":{"path":"/development/monolith-2-misvc/","title":"MSA Communication by Req/Res"}},{"node":{"path":"/development/kafka-scaling/","title":"Kafka Scaling "}},{"node":{"path":"/development/kafka-scaling-concurrenty-handling/","title":"Kafka scaling & Concurrenty handling"}},{"node":{"path":"/development/kafka-retry-dlq/","title":"Kafka Retry & Dead Letter Queue "}},{"node":{"path":"/development/dp-frontend/","title":"Data Projection with Frontend and HATEOAS"}},{"node":{"path":"/development/kafka-basic/","title":"Kafka Basic Commands"}},{"node":{"path":"/development/gateway/","title":"API Gateway"}},{"node":{"path":"/development/conteact-messaging/","title":"Conteact Test by Message-based CDC"}},{"node":{"path":"/business/eventstorming-fooddelivery/","title":"Food Delivery Example"}},{"node":{"path":"/development/dp-graphql/","title":"Data Projection with GraphQL"}},{"node":{"path":"/development/contract-test/","title":"Contract Test (Consumer Driven Test)"}},{"node":{"path":"/development/dp-cqrs/","title":"Data Projection with CQRS"}},{"node":{"path":"/development/compensation-correlation/","title":"Pub/Sub Communication - Compensation & Correlation"}},{"node":{"path":"/development/choreography-saga/","title":"Choreography Saga with Axon Framework"}},{"node":{"path":"/development/cna-start/","title":"Running Microservice Units"}},{"node":{"path":"/development/circuit-breaker/","title":"Circuit Breaker for Req/Res"}},{"node":{"path":"/contact/question/","title":"CONTACT"}},{"node":{"path":"/business/ddd-google-drive/","title":"Google Drive Example"}},{"node":{"path":"/business/","title":"Shopping Mall Example"}}]}},"context":{}}