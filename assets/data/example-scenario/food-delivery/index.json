{"hash":"0a9239c269b2465be7e11c2a14450555d0e953fe","data":{"markdownPage":{"id":"4b3f20a1b3a5ad2e0072c3ddb841c049","title":"food delivery","description":"","path":"/example-scenario/food-delivery/","timeToRead":23,"content":"<h1 id=\"food-delivery\"><a href=\"#food-delivery\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>food delivery</h1>\n<p><img src=\"https://user-images.githubusercontent.com/487999/79708354-29074a80-82fa-11ea-80df-0db3962fb453.png\" alt=\"image\"></p>\n<p>Source: <a href=\"https://github.com/msa-ez/example-food-delivery\" target=\"_blank\" class=\"link-open-text\">https://github.com/msa-ez/example-food-delivery</a></p>\n<p>This example is configured to cover all stages of analysis/design/implementation/operation including MSA/DDD/Event Storming/EDA. It includes example answers to pass the checkpoints required for the development of cloud-native applications.</p>\n<ul>\n<li>Checkpoint : <a href=\"https://workflowy.com/s/assessment-check-po/T5YrzcMewfo4J6LW\" target=\"_blank\" class=\"link-open-text\">https://workflowy.com/s/assessment-check-po/T5YrzcMewfo4J6LW</a></li>\n</ul>\n<h2 id=\"service-scenario\"><a href=\"#service-scenario\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>service scenario</h2>\n<p>Covering the nation of delivery - <a href=\"https://1sung.tistory.com/106\" target=\"_blank\" class=\"link-open-text\">https://1sung.tistory.com/106</a></p>\n<p>Functional Requirements<br>\n1. The customer selects the menu and places an order<br>\n2. The customer pays<br>\n3. When the order is placed, the order details are transmitted to the store owner<br>\n4. The store owner confirms, cooks and starts delivery<br>\n5. The customer orders<br>\n6. If the order is canceled, the delivery is canceled<br>\n7. The customer inquires the order status in the middle<br>\n8. Every time the order status changes, a notification is sent via KakaoTalk.<br>\n<br><br></p>\n<p>Non-Functional Requirements<br>\n1. Transactions<br></p>\n<ul>\n<li>\n<ol>\n<li>Transactions should not be established for unpaid orders. Sync call<br></li>\n</ol>\n</li>\n</ul>\n<ol start=\"2\">\n<li>\n<p>Failure isolation<br></p>\n<ul>\n<li>\n<ol>\n<li>Orders should be received 24 hours a day, 365 days a year, even if the store management function is not performed Async (event- driven), Eventual Consistency</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>When the payment system is overloaded, it induces users to make payments after a while without accepting them for a while Circuit breaker, fallback<br></li>\n</ol>\n</li>\n</ul>\n</li>\n<li>\n<p>Performance<br></p>\n<ul>\n<li>\n<ol>\n<li>Customers can check the delivery status frequently in the store management order system (front end) CQRS</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>Every time the delivery status changes, it should be possible to notify via KakaoTalk, etc. Event driven<br></li>\n</ol>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"checkpoint\"><a href=\"#checkpoint\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>checkpoint</h2>\n<ul>\n<li>\n<p>analytical design</p>\n<ul>\n<li>\n<p>Event Storming:</p>\n<ul>\n<li>Do you properly understand the meaning of each sticker color object and properly reflect it in the design in connection with the hexagonal architecture?</li>\n<li>Is each domain event defined at a meaningful level?</li>\n<li>Aggregation: Are Commands and Events properly grouped into ACID transaction unit Aggregate?</li>\n<li>Are functional and non-functional requirements reflected without omission?</li>\n</ul>\n</li>\n<li>\n<p>Separation of subdomains, bounded contexts</p>\n<ul>\n<li>\n<p>Is the sub-domain or Bounded Context properly separated according to the team's KPIs, interests, and different distribution cycles, and is the rationality of the separation criteria sufficiently explained?</p>\n<ul>\n<li>Separation of at least 3 services</li>\n</ul>\n</li>\n<li>Polyglot design: Have you designed each microservice by adopting various technology stack and storage structures according to the implementation goals and functional characteristics of each microservice?</li>\n<li>In the service scenario, for the use case where the ACID transaction is critical, is the service not excessively and densely separated?</li>\n</ul>\n</li>\n<li>\n<p>Context Mapping / Event Driven Architecture</p>\n<ul>\n<li>Can you distinguish between task importance and hierarchy between domains? (Core, Supporting, General Domain)</li>\n<li>Can the request-response method and event-driven method be designed separately?</li>\n<li>Fault Isolation: Is it designed so that the existing service is not affected even if the supporting service is removed?</li>\n<li>Can it be designed (open architecture) so that the database of existing services is not affected when new services are added?</li>\n<li>Is the Correlation-key connection properly designed to link events and policies?</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>\n<p>Hexagonal Architecture</p>\n<ul>\n<li>Did you draw the hexagonal architecture diagram according to the design result correctly?</li>\n</ul>\n</li>\n<li>\n<p>avatar</p>\n<ul>\n<li>\n<p>[DDD] Was the realization developed to be mapped according to the color of each sticker and the hexagonal architecture in the analysis stage?</p>\n<ul>\n<li>Have you developed a data access adapter through JPA by applying Entity Pattern and Repository Pattern?</li>\n<li>[Hexagonal Architecture] In addition to the REST inbound adapter, is it possible to adapt the existing implementation to a new protocol without damaging the domain model by adding an inbound adapter such as gRPC?</li>\n<li>Is the source code described using the ubiquitous language (terms used in the workplace) in the analysis stage?</li>\n</ul>\n</li>\n<li>\n<p>Implementation of service-oriented architecture of Request-Response method</p>\n<ul>\n<li>How did you find and call the target service in the Request-Response call between microservices? (Service Discovery, REST, FeignClient)</li>\n<li>Is it possible to isolate failures through circuit breakers?</li>\n</ul>\n</li>\n<li>\n<p>Implementing an event-driven architecture</p>\n<ul>\n<li>Are more than one service linked with PubSub using Kafka?</li>\n<li>Correlation-key: When each event (message) processes which policy, is the Correlation-key connection properly implemented to distinguish which event is connected to which event?</li>\n<li>Does the Message Consumer microservice receive and process existing events that were not received in the event of a failure?</li>\n<li>Scaling-out: Is it possible to receive events without duplicates when a replica of the Message Consumer microservice is added?</li>\n<li>CQRS: By implementing Materialized View, is it possible to configure the screen of my service and view it frequently without accessing the data source of other microservices (without Composite service or join SQL, etc.)?</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>\n<p>polyglot programming</p>\n<ul>\n<li>Are each microservices composed of one or more separate technology stacks?</li>\n<li>Did each microservice autonomously adopt its own storage structure and implement it by selecting its own storage type (RDB, NoSQL, File System, etc.)?</li>\n</ul>\n</li>\n<li>\n<p>API Gateway</p>\n<ul>\n<li>Can the point of entry of microservices be unified through API GW?</li>\n<li>Is it possible to secure microservices through gateway, authentication server (OAuth), and JWT token authentication?</li>\n</ul>\n</li>\n<li>\n<p>operation</p>\n<ul>\n<li>\n<p>SLA Compliance</p>\n<ul>\n<li>Self-Healing: Through the Liveness Probe, as the health status of any service continuously deteriorates, at what threshold can it be proven that the pod is regenerated?</li>\n<li>Can fault isolation and performance efficiency be improved through circuit breaker and ray limit?</li>\n<li>Is it possible to set up an autoscaler (HPA) for scalable operation?</li>\n<li>Monitoring, alerting:</li>\n</ul>\n</li>\n<li>\n<p>Nonstop Operation CI/CD (10)</p>\n<ul>\n<li>When the new version is fully serviceable through the setting of the Readiness Probe and rolling update, it is proved by siege that the service is converted to the new version of the service.</li>\n<li>Contract Test: Is it possible to prevent implementation errors or API</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"analysisdesign\"><a href=\"#analysisdesign\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Analysis/Design</h2>\n<p><strong>AS-IS Organization (Horizontally-Aligned)</strong>\n<img src=\"https://user-images.githubusercontent.com/487999/79684144-2a893200-826a-11ea-9a01-79927d3a0107.png\" alt=\"image\"></p>\n<p><strong>TO-BE Organization (Vertically-Aligned)</strong>\n<img src=\"https://user-images.githubusercontent.com/487999/79684159-3543c700-826a-11ea-8d5f-a3fc0c4cad87.png\" alt=\"image\"></p>\n<p><strong><a href=\"http://www.msaez.io/#/storming/nZJ2QhwVc4NlVJPbtTkZ8x9jclF2/a77281d704710b0c2e6a823b6e6d973a\" target=\"_blank\" rel=\"noopener noreferrer\">Eventstorming results modeled with MSAEz</a></strong></p>\n<p><strong>event derivation</strong>\n<img src=\"https://user-images.githubusercontent.com/487999/79683604-47bc0180-8266-11ea-9212-7e88c9bf9911.png\" alt=\"image\"></p>\n<p><strong>Drop out of an ineligible event</strong>\n<img src=\"https://user-images.githubusercontent.com/487999/79683612-4b4f8880-8266-11ea-9519-7e084524a462.png\" alt=\"image\"></p>\n<ul>\n<li>\n<p>Performs the task of filtering out wrong domain events derived during the process</p>\n<ul>\n<li>When ordering>Menu category selected, When ordering>Menu searched: Excluded because it is an event of the UI and not a business event</li>\n</ul>\n</li>\n</ul>\n<p><strong>Easy to read by attaching actors and commands</strong>\n<img src=\"https://user-images.githubusercontent.com/487999/79683614-4ee30f80-8266-11ea-9a50-68cdff2dcc46.png\" alt=\"image\"></p>\n<p><strong>bind with aggregation</strong>\n<img src=\"https://user-images.githubusercontent.com/487999/79683618-52769680-8266-11ea-9c21-48d6812444ba.png\" alt=\"image\"></p>\n<ul>\n<li>Order of app, order processing of store, and payment history of payment are grouped together as units in which transactions must be maintained by commands and events connected to them.</li>\n</ul>\n<p><strong>Bind to Bounded Context</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/487999/79683625-560a1d80-8266-11ea-9790-40d68a36d95d.png\" alt=\"image\"></p>\n<ul>\n<li>\n<p>domain sequence separation </p>\n<ul>\n<li>Core Domain: app (front), store: It is an indispensable core service, and the annual up-time SLA level is set at 99.999%, and the distribution cycle is less than once a week for apps and less than once a month for stores.</li>\n<li>Supporting Domain: marketing, customer: This is a service to increase competitiveness, and the SLA level is aimed at uptime of 60% or more per year.</li>\n<li>General Domain: pay: It is highly competitive to use a 3rd party external service as a payment service (to be converted to pink later)</li>\n</ul>\n</li>\n</ul>\n<p><strong>Attach the policy (parentheses are the subject of execution, and it does not matter if you attach the policy in the second step. The entire linkage is revealed at the beginning)</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/487999/79683633-5aced180-8266-11ea-8f42-c769eb88dfb1.png\" alt=\"image\"></p>\n<p><strong>Policy movement and context mapping (dashed lines are Pub/Sub, solid lines are Req/Resp)</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/487999/79683641-5f938580-8266-11ea-9fdb-4e80ff6642fe.png\" alt=\"image\"></p>\n<p><strong>Completed first model</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/487999/79683646-63bfa300-8266-11ea-9bc5-c0b650507ac8.png\" alt=\"image\"></p>\n<ul>\n<li>Add View Model</li>\n</ul>\n<p><strong>Verification that functional/non-functional requirements for the first complete version are covered</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/487999/79684167-3ecd2f00-826a-11ea-806a-957362d197e3.png\" alt=\"image\"></p>\n<ul>\n<li>The customer selects the menu and places an order (ok)</li>\n<li>The customer pays (ok)</li>\n<li>When an order is placed, the order details are delivered to the store owner (ok)</li>\n<li>The store owner confirms, cooks and starts delivery (ok)</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/487999/79684170-47256a00-826a-11ea-9777-e16fafff519a.png\" alt=\"image\"></p>\n<ul>\n<li>Customer can cancel order (ok)</li>\n<li>If the order is canceled, the delivery is canceled (ok)</li>\n<li>The customer inquires the order status in the middle (addition of View-green sticker is ok)</li>\n<li>Send a notification through KakaoTalk whenever the order status changes (?)</li>\n</ul>\n<p><strong>Modify the model</strong>\n<img src=\"https://user-images.githubusercontent.com/487999/79684176-4e4c7800-826a-11ea-8deb-b7b053e5d7c6.png\" alt=\"image\"></p>\n<ul>\n<li>The modified model covers all requirements.</li>\n</ul>\n<p><strong>Verification of non-functional requirements</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/487999/79684184-5c9a9400-826a-11ea-8d87-2ed1e44f4562.png\" alt=\"image\"></p>\n<ul>\n<li>\n<p>Transaction processing for scenarios that cross microservices</p>\n<ul>\n<li>Payment processing for customer orders: ACID transaction is applied in accordance with the management's long-standing belief (?) that orders that have not been paid will never be accepted. Request-Response method processing for payment processing at the time of order completion</li>\n<li>Store owner connection and delivery processing when payment is completed: In the process of transferring an order request from the App (front) to the Store Microservice, the Store Microservice has a separate distribution cycle, so the transaction is processed in the Eventual Consistency method.</li>\n<li>All other inter-microservice transactions: In most cases, the timing of data consistency is not critical, such as processing KakaoTalk for all events such as order status and delivery status, so Eventual Consistency is adopted as the default.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Hexagonal Architecture Diagram Derivation</strong>\n<img src=\"https://user-images.githubusercontent.com/487999/79684772-eba9ab00-826e-11ea-9405-17e2bf39ec76.png\" alt=\"image\"></p>\n<ul>\n<li>Distinguish between inbound adapter and outbound adapter by referring to Chris Richardson, MSA Patterns</li>\n<li>Distinguish between PubSub and Req/Resp in the call relationship</li>\n<li>Separation of sub-domains and bounded contexts: Each team's KPIs share their interest implementation stories as follows</li>\n</ul>\n<h2 id=\"avatar\"><a href=\"#avatar\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>avatar</h2>\n<p>According to the hexagonal architecture derived from the analysis/design phase, microservices representing each BC were implemented with Spring Boot and Python. The method to run each implemented service locally is as follows (each port number is 8081 ~ 808n)</p>\n<pre class=\"language-text\"><code class=\"language-text\">cd app\nmvn spring-boot:run\n\ncd pay\nmvn spring-boot:run \n\ncd store\nmvn spring-boot:run  \n\ncd customer\npython policy-handler.py </code></pre>\n<h3 id=\"-application-of-ddd\"><a href=\"#-application-of-ddd\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>· Application of DDD</h3>\n<ul>\n<li>The core Aggregate Root object derived within each service is declared as an Entity: (Example: pay microservice). At this time, I tried to use the language (ubiquitous language) used in the field as it is possible. However, in some implementations, it is not possible to continue using the method because it may not be possible to execute it if it is not in English. (It was confirmed that an error occurs when identifiers are used in Korean for Maven pom.xml, topic id of Kafka, service id of FeignClient, etc.)</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">package fooddelivery;\n\nimport javax.persistence.*;\nimport org.springframework.beans.BeanUtils;\nimport java.util.List;\n\n@Entity\n@Table(name=&quot;Payment history_table&quot;)\npublic class Payment history {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    private String orderId;\n    private Double Price;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getOrderId() {\n        return orderId;\n    }\n\n    public void setOrderId(String orderId) {\n        this.orderId = orderId;\n    }\n    public Double get Price() {\n        return Price;\n    }\n\n    public void set Price(Double Price) {\n        this.Price = Price;\n    }\n\n}</code></pre>\n<ul>\n<li>By applying Entity Pattern and Repository Pattern, RestRepository of Spring Data REST was applied to automatically create a data access adapter so that there is no separate processing for various data source types (RDB or NoSQL) through JPA.</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">package fooddelivery;\n\nimport org.springframework.data.repository.PagingAndSortingRepository;\n\npublic interface Payment history Repository extends PagingAndSortingRepository&lt;Payment history, Long&gt;{\n}</code></pre>\n<ul>\n<li>REST API test after application</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\"># app order processing of services\nhttp localhost:8081/orders item=&quot;chicken&quot;\n\n# store Delivery of services\nhttp localhost:8083/order processing orderId=1\n\n# Check order status\nhttp localhost:8081/orders/1</code></pre>\n<h3 id=\"-polyglat-persistence\"><a href=\"#-polyglat-persistence\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>· Polyglat Persistence</h3>\n<p>The app front (app) decided to use Mongo DB, a Document DB / NoSQL database, rather than RDB due to the influx of many users and the need to store various contents of product information due to the characteristics of the service. To this end, the declaration of order is marked with @Document instead of @Entity, and it is attached to MongoDB only by applying the existing Entity Pattern and Repository Pattern and setting the database product (application.yml) without any special work. </p>\n<pre class=\"language-text\"><code class=\"language-text\"># Order.java\n\npackage fooddelivery;\n\n@Document\npublic class Order {\n\n    private String id; // mongo db When applied id is a fixed value Because the key is a field that is automatically issued You don&#39;t need to give @Id or @GeneratedValue .\n    private String item;\n    private Integer Quantity;\n\n}\n\n\n# OrderRepository.java\npackage fooddelivery;\n\npublic interface OrderRepository extends JpaRepository&lt;Order, UUID&gt;{\n}\n\n# application.yml\n\n  data:\n    mongodb:\n      host: mongodb.default.svc.cluster.local\n    database: mongo-example</code></pre>\n<h3 id=\"-polyglot-programming\"><a href=\"#-polyglot-programming\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>· polyglot programming</h3>\n<p>The team decided to implement the function to send KakaoTalk messages to customers according to the change of order status and delivery status, which are scenarios of customer management service (customer), using python. The corresponding Python implementation is implemented as a Kafka consumer that receives and processes each event, and the code is as follows: </p>\n<pre class=\"language-text\"><code class=\"language-text\">from flask import Flask\nfrom redis import Redis, RedisError\nfrom kafka import KafkaConsumer\nimport os\nimport socket\n\n\n# To consume latest messages and auto-commit offsets\nconsumer = KafkaConsumer(&#39;fooddelivery&#39;,\n                         group_id=&#39;&#39;,\n                         bootstrap_servers=[&#39;localhost:9092&#39;])\nfor message in consumer:\n    print (&quot;%s:%d:%d: key=%s value=%s&quot; % (message.topic, message.partition,\n                                          message.offset, message.key,\n                                          message.value))\n\n    # Kakao Talk API</code></pre>\n<p>The Docker file for compiling and running the Python application is as follows (Is this work to be done in the operational stage? No, this is up to the developer to do. Immutable Image):</p>\n<pre class=\"language-text\"><code class=\"language-text\">FROM python:2.7-slim\nWORKDIR /app\nADD . /app\nRUN pip install --trusted-host pypi.python.org -r requirements.txt\nENV NAME World\nEXPOSE 8090\nCMD [&quot;python&quot;, &quot;policy-handler.py&quot;]</code></pre>\n<h3 id=\"-synchronous-invocation-and-fallback-handling\"><a href=\"#-synchronous-invocation-and-fallback-handling\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>· Synchronous Invocation and Fallback Handling</h3>\n<p>As one of the conditions in the analysis stage, the call between order (app) -> payment (pay) was decided to be processed as a transaction that maintains synchronous consistency. The calling protocol allows the REST service already exposed by the Rest Repository to be called using FeignClient</p>\n<ul>\n<li>Implement service proxy interface (Proxy) using stub and (FeignClient) to call payment service  </li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\"># (app) PaymentHistoryService.java\n\npackage fooddelivery.external;\n\n@FeignClient(name=&quot;pay&quot;, url=&quot;http://localhost:8082&quot;)//, fallback = PaymentHistoryServiceFallback.class)\npublic interface PaymentHistoryService {\n\n    @RequestMapping(method= RequestMethod.POST, path=&quot;/PaymentHistoryServices&quot;)\n    public void payment(@RequestBody PaymentHistoryService pay);\n\n}</code></pre>\n<ul>\n<li>Process to request payment immediately after receiving the order (@PostPersist)</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\"># Order.java (Entity)\n\n    @PostPersist\n    public void onPostPersist(){\n\n        fooddelivery.external.PaymentHistory pay = new fooddelivery.external.PaymentHistory();\n        pay.setOrderId(getOrderId());\n        \n        Application.applicationContext.getBean(fooddelivery.external.PaymentHistory Service.class)\n                .payment(pay);\n    }</code></pre>\n<ul>\n<li>Confirm that synchronous calls result in time coupling with the time of the call, and that orders cannot be taken if the payment system fails:</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\"># payment (pay) put down service (ctrl+c)\n\n#order processing\nhttp localhost:8081/orders item=chicken storeId=1   #Fail\nhttp localhost:8081/orders item=Pizza storeId=2   #Fail\n\n#Restart payment service\ncd payment\nmvn spring-boot:run\n\n#order processing\nhttp localhost:8081/orders item=chicken storeId=1   #Success\nhttp localhost:8081/orders item=Pizza storeId=2   #Success</code></pre>\n<ul>\n<li>Also, in case of excessive request, service failure can occur like dominoes. (Circuit breaker and fallback processing will be explained in the operation phase.)</li>\n</ul>\n<h3 id=\"-asynchronous-call--temporal-decoupling--fault-isolation--eventual-consistency-test\"><a href=\"#-asynchronous-call--temporal-decoupling--fault-isolation--eventual-consistency-test\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>· Asynchronous call / temporal decoupling / fault isolation / eventual consistency test</h3>\n<p>The act of notifying the store system after payment is made is not synchronous, but asynchronous, so that the payment order is not blocked for the store system to process. </p>\n<ul>\n<li>To this end, after leaving a record in the payment history, a domain event indicating that the payment has been approved is immediately sent to Kafka (Publish). </li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">package fooddelivery;\n\n@Entity\n@Table(name=&quot;PaymentHistory_table&quot;)\npublic class PaymentHistory {\n\n ...\n    @PrePersist\n    public void onPrePersist(){\n        PaymentApproved = new PaymentApproved();\n        BeanUtils.copyProperties(this, PaymentApproved);\n        PaymentApproved.publish();\n    }\n\n}</code></pre>\n<ul>\n<li>In store service, implement PolicyHandler to receive payment approval event and handle its own policy:</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">package fooddelivery;\n\n...\n\n@Service\npublic class PolicyHandler{\n\n    @StreamListener(KafkaProcessor.INPUT)\n    public void wheneverPaymentApproved_ReceiveOrderInformation(@Payload PaymentApproved PaymentApproved){\n\n        if(PaymentApproved.isMe()){\n            System.out.println(&quot;##### listener ReceiveOrderInformation : &quot; + PaymentApproved.toJson());\n            // Now that we&#39;ve received the order information, we should start cooking soon...\n            \n        }\n    }\n\n}</code></pre>\n<p>In actual implementation, the store owner will receive a notification through KakaoTalk, etc., and after cooking is completed, the order status will be entered into the UI.</p>\n<pre class=\"language-text\"><code class=\"language-text\">  @Autowired OrderManagementRepository OrderManagementRepository;\n  \n  @StreamListener(KafkaProcessor.INPUT)\n  public void wheneverPaymentApproved_ReceiveOrderInformation(@Payload PaymentApproved PaymentApproved){\n\n      if(PaymentApproved.isMe()){\n          KakaoTalk(&quot; The order has arrived! : &quot; + PaymentApproved.toString(), order.getStoreId());\n\n          OrderManagement order = new OrderManagement();\n          order.setId(PaymentApproved.getOrderId());\n          OrderManagementRepository.save(order);\n      }\n  }</code></pre>\n<p>Since the store system is completely separate from order/payment and is processed according to the reception of events, there is no problem in receiving orders even if the store system is temporarily down due to maintenance:</p>\n<pre class=\"language-text\"><code class=\"language-text\"># Put down store services (store) for a while (ctrl+c)\n\n#OrderProcessing\nhttp localhost:8081/orders item=chicken storeId=1   #Success\nhttp localhost:8081/orders item=Pizza storeId=2   #Success\n\n#Order Status Check\nhttp localhost:8080/orders     # Confirm that the order status has not changed\n\n#shop service startup\ncd shop\nmvn spring-boot:run\n\n#order status check\nhttp localhost:8080/orders     # Check the status of all orders as &quot;shipped&quot;</code></pre>\n<h2 id=\"operation\"><a href=\"#operation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>operation</h2>\n<h3 id=\"-cicd-settings\"><a href=\"#-cicd-settings\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>· CI/CD settings</h3>\n<p>Each implementation was configured in their own source repository, the CI/CD platform used was GCP, and the pipeline build script was included in cloudbuild.yml under each project folder.</p>\n<h3 id=\"-synchronous-call--circuit-breaking--fault-isolation\"><a href=\"#-synchronous-call--circuit-breaking--fault-isolation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>· Synchronous call / circuit breaking / fault isolation</h3>\n<ul>\n<li>Choice of circuit breaking framework: Implemented using Spring FeignClient + Hystrix option</li>\n</ul>\n<p>The scenario is implemented by linking the connection at the time of the terminal app-->pay with RESTful Request/Response, and when the payment request is excessive, fault isolation through CB. </p>\n<ul>\n<li>Set Hystrix: Set the CB circuit to close (fail and block requests quickly) when the processing time starts to exceed 610 millimeters in the request processing thread and is maintained for a certain amount. </li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\"># application.yml\nfeign:\n  hystrix:\n    enabled: true\n    \nhystrix:\n  command:\n    # Global settings\n    default:\n      execution.isolation.thread.timeoutInMilliseconds: 610</code></pre>\n<ul>\n<li>Random load handling of the called service (payment: pay) - It fluctuates from 400 millimeters to 220 millimeters.</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\"># (pay) Payment history.java (Entity)\n\n    @PrePersist\n    public void onPrePersist(){  //Save the payment history and drag the appropriate time\n\n        ...\n        \n        try {\n            Thread.currentThread().sleep((long) (400 + Math.random() * 220));\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }</code></pre>\n<ul>\n<li>Check circuit breaker operation with load tester siege tool:</li>\n<li>100 concurrent users</li>\n<li>run for 60 seconds</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">$ siege -c100 -t60S -r10 --content-type &quot;application/json&quot; &#39;http://localhost:8081/orders POST {&quot;item&quot;: &quot;chicken&quot;}&#39;\n\n** SIEGE 4.0.5\n** Preparing 100 concurrent users for battle.\nThe server is now under siege...\n\nHTTP/1.1 201     0.68 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     0.68 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     0.70 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     0.70 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     0.73 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     0.75 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     0.77 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     0.97 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     0.81 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     0.87 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.12 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.16 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.17 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.26 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.25 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\n\n* Excessive request triggers CB Block request\n\nHTTP/1.1 500     1.29 secs:     248 bytes ==&gt; POST http://localhost:8081/orders   \nHTTP/1.1 500     1.24 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     1.23 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     1.42 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     2.08 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.29 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     1.24 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\n\n* After returning some of the requests, the previously delayed tasks have been processed, and the circuit is closed to start receiving requests again.\n\nHTTP/1.1 201     1.46 secs:     207 bytes ==&gt; POST http://localhost:8081/orders  \nHTTP/1.1 201     1.33 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.36 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.63 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.65 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.68 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.69 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.71 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.71 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.74 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.76 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     1.79 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\n\n* The requests start to pile up again, and the processing time per case starts to slightly exceed 610 milliseconds =&gt; open circuit =&gt; handle request failure\n\nHTTP/1.1 500     1.93 secs:     248 bytes ==&gt; POST http://localhost:8081/orders    \nHTTP/1.1 500     1.92 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     1.93 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\n\n* Condition improved faster than expected - (processing time per case (per thread) returned to less than 610 millimeters) =&gt; request accepted\n\nHTTP/1.1 201     2.24 secs:     207 bytes ==&gt; POST http://localhost:8081/orders  \nHTTP/1.1 201     2.32 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     2.16 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     2.19 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     2.19 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     2.19 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     2.21 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     2.29 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     2.30 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     2.38 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     2.59 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     2.61 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     2.62 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     2.64 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.01 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.27 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.33 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.45 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.52 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.57 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.69 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.70 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.69 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\n\n* After that, as this pattern continues to repeat, the system operates well without domino effects or runaway resource consumption.\n\n\nHTTP/1.1 500     4.76 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.23 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.76 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.74 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.82 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.82 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.84 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.66 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     5.03 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.22 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.19 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.18 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.69 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.65 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     5.13 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.84 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.25 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.25 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.80 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.87 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.33 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.86 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.96 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.34 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 500     4.04 secs:     248 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.50 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.95 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.54 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     4.65 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\n\n\n:\n:\n\nTransactions:\t\t        1025 hits\nAvailability:\t\t       63.55 %\nElapsed time:\t\t       59.78 secs\nData transferred:\t        0.34 MB\nResponse time:\t\t        5.60 secs\nTransaction rate:\t       17.15 trans/sec\nThroughput:\t\t        0.01 MB/sec\nConcurrency:\t\t       96.02\nSuccessful transactions:        1025\nFailed transactions:\t         588\nLongest transaction:\t        9.20\nShortest transaction:\t        0.00</code></pre>\n<ul>\n<li>The operating system does not die and continuously shows that the circuit is properly opened and closed by CB to protect the resource. However, it is not good for customer usability that 63.55% succeeded and 46% failed, so follow-up processing to expand the system through retry setting and dynamic scale out (automatic addition of replica, HPA) is necessary.</li>\n<li>Retry configuration (istio)</li>\n<li>Confirm that availability is increased (siege)</li>\n</ul>\n<h3 id=\"-autoscale-out\"><a href=\"#-autoscale-out\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>· autoscale out</h3>\n<p>Previously, CB made it possible to operate the system stably, but it did not accept 100% of the user's request.</p>\n<ul>\n<li>Configure HPA to dynamically increase replicas for payment service. The setting increases the number of replicas to 10 when CPU usage exceeds 15%:</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">kubectl autoscale deploy pay --min=1 --max=10 --cpu-percent=15</code></pre>\n<ul>\n<li>Walk the workload for 2 minutes the way CB did.</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">siege -c100 -t120S -r10 --content-type &quot;application/json&quot; &#39;http://localhost:8081/orders POST {&quot;item&quot;: &quot;chicken&quot;}&#39;</code></pre>\n<ul>\n<li>Monitor how autoscale is going:</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">kubectl get deploy pay -w</code></pre>\n<ul>\n<li>After some time (about 30 seconds) you can see the scale out occurs:</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">NAME    DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE\npay     1         1         1            1           17s\npay     1         2         1            1           45s\npay     1         4         1            1           1m\n:</code></pre>\n<ul>\n<li>If you look at the log of siege, you can see that the overall success rate has increased.</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">Transactions:\t\t        5078 hits\nAvailability:\t\t       92.45 %\nElapsed time:\t\t       120 secs\nData transferred:\t        0.34 MB\nResponse time:\t\t        5.60 secs\nTransaction rate:\t       17.15 trans/sec\nThroughput:\t\t        0.01 MB/sec\nConcurrency:\t\t       96.02</code></pre>\n<h3 id=\"-uninterrupted-redistribution\"><a href=\"#-uninterrupted-redistribution\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>· Uninterrupted redistribution</h3>\n<ul>\n<li>First, remove Autoscaler or CB settings to check whether non-stop redistribution is 100%.</li>\n</ul>\n<ul>\n<li>Monitoring the workload right before deployment with seige.</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">siege -c100 -t120S -r10 --content-type &quot;application/json&quot; &#39;http://localhost:8081/orders POST {&quot;item&quot;: &quot;chicken&quot;}&#39;\n\n** SIEGE 4.0.5\n** Preparing 100 concurrent users for battle.\nThe server is now under siege...\n\nHTTP/1.1 201     0.68 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     0.68 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     0.70 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\nHTTP/1.1 201     0.70 secs:     207 bytes ==&gt; POST http://localhost:8081/orders\n:</code></pre>\n<ul>\n<li>Start deploying to a new version</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">kubectl set image ...</code></pre>\n<ul>\n<li>Go to seige's screen and check if Availability has dropped below 100%</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">Transactions:\t\t        3078 hits\nAvailability:\t\t       70.45 %\nElapsed time:\t\t       120 secs\nData transferred:\t        0.34 MB\nResponse time:\t\t        5.60 secs\nTransaction rate:\t       17.15 trans/sec\nThroughput:\t\t        0.01 MB/sec\nConcurrency:\t\t       96.02</code></pre>\n<p>Confirm that the availability falls from 100% to 70% during the distribution period. The reason is that Kubernetes recognized the newly uploaded service as a READY state and proceeded to introduce the service. To prevent this, we set up a Readiness Probe:</p>\n<pre class=\"language-text\"><code class=\"language-text\"># Set the readiness probe in deployment.yaml :\n\n\nkubectl apply -f kubernetes/deployment.yaml</code></pre>\n<ul>\n<li>Check Availability after redeploying with the same scenario:</li>\n</ul>\n<pre class=\"language-text\"><code class=\"language-text\">Transactions:\t\t        3078 hits\nAvailability:\t\t       100 %\nElapsed time:\t\t       120 secs\nData transferred:\t        0.34 MB\nResponse time:\t\t        5.60 secs\nTransaction rate:\t       17.15 trans/sec\nThroughput:\t\t        0.01 MB/sec\nConcurrency:\t\t       96.02</code></pre>\n<p>Uninterrupted redistribution is confirmed to be successful because availability does not change during the deployment period.</p>\n<h2 id=\"addition-of-new-development-organizations\"><a href=\"#addition-of-new-development-organizations\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Addition of new development organizations</h2>\n<p>  <img src=\"https://user-images.githubusercontent.com/487999/79684133-1d6c4300-826a-11ea-94a2-602e61814ebf.png\" alt=\"image\"></p>\n<p><strong>Addition of Marketing Team</strong></p>\n<ul>\n<li>KPI: Increase the influx of new customers and increase the loyalty of existing customers</li>\n<li>Implementation plan microservices: We plan to acquire existing customer microservices and provide food and restaurant recommendation services to customers. Event Storming</li>\n</ul>\n<p><strong>Event Storming</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/487999/79685356-2b729180-8273-11ea-9361-a434065f2249.png\" alt=\"image\"></p>\n<p><strong>Hexagonal Architecture Changes</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/487999/79685243-1d704100-8272-11ea-8ef6-f4869c509996.png\" alt=\"image\"></p>\n<p><strong>avatar</strong></p>\n<p>Implement the Inbund request by subscribing to events rather than REST so that modifications do not occur in the existing microservices. Added regardless of architecture or database structure of existing microservices for existing microservices.</p>\n<p><strong>Operation and Retirement</strong></p>\n<p>Because it is not implemented in the Request/Response method, even if the service is no longer needed, it has no effect on the existing microservice if it is removed from the Deployment.</p>\n<ul>\n<li>[Comparison] In the case of a pay microservice, it causes an API change or a change in the app (order) microservice at Retire:</li>\n</ul>\n<p>예) When API changes</p>\n<pre class=\"language-text\"><code class=\"language-text\"># Order.java (Entity)\n\n    @PostPersist\n    public void onPostPersist(){\n\n        fooddelivery.external.PaymentHistory pay = new fooddelivery.external.PaymentHistory();\n        pay.setOrderId(getOrderId());\n        \n        Application.applicationContext.getBean(fooddelivery.external.PaymentHistoryService.class)\n                .payment(pay);\n\n                --&gt; \n\n        Application.applicationContext.getBean(fooddelivery.external.PaymentHistoryService.class)\n                .payment2(pay);\n\n    }</code></pre>\n<p>ex) Retire</p>\n<pre class=\"language-text\"><code class=\"language-text\"># Order.java (Entity)\n\n    @PostPersist\n    public void onPostPersist(){\n\n        /**\n        fooddelivery.external.PaymentHistory pay = new fooddelivery.external.PaymentHistory();\n        pay.setOrderId(getOrderId());\n        \n        Application.applicationContext.getBean(fooddelivery.external.PaymentHistoryService.class)\n                .payment(pay);\n\n        **/\n    }</code></pre>\n","sidebar":"started","next":"","prev":"","headings":[{"depth":1,"value":"food delivery","anchor":"#food-delivery"},{"depth":2,"value":"service scenario","anchor":"#service-scenario"},{"depth":2,"value":"checkpoint","anchor":"#checkpoint"},{"depth":2,"value":"Analysis/Design","anchor":"#analysisdesign"},{"depth":2,"value":"avatar","anchor":"#avatar"},{"depth":3,"value":"· Application of DDD","anchor":"#-application-of-ddd"},{"depth":3,"value":"· Polyglat Persistence","anchor":"#-polyglat-persistence"},{"depth":3,"value":"· polyglot programming","anchor":"#-polyglot-programming"},{"depth":3,"value":"· Synchronous Invocation and Fallback Handling","anchor":"#-synchronous-invocation-and-fallback-handling"},{"depth":3,"value":"· Asynchronous call / temporal decoupling / fault isolation / eventual consistency test","anchor":"#-asynchronous-call--temporal-decoupling--fault-isolation--eventual-consistency-test"},{"depth":2,"value":"operation","anchor":"#operation"},{"depth":3,"value":"· CI/CD settings","anchor":"#-cicd-settings"},{"depth":3,"value":"· Synchronous call / circuit breaking / fault isolation","anchor":"#-synchronous-call--circuit-breaking--fault-isolation"},{"depth":3,"value":"· autoscale out","anchor":"#-autoscale-out"},{"depth":3,"value":"· Uninterrupted redistribution","anchor":"#-uninterrupted-redistribution"},{"depth":2,"value":"Addition of new development organizations","anchor":"#addition-of-new-development-organizations"}]},"allMarkdownPage":{"edges":[{"node":{"path":"/tool/si-gpt/","title":"Code Implementation with ChatGPT"}},{"node":{"path":"/tool/k8s-modeling/","title":"K8s Deployment Modeling"}},{"node":{"path":"/tool/on-prem-inst/","title":"Installing on-premise MSA-Easy"}},{"node":{"path":"/tool/model-driven/","title":"Code Generation"}},{"node":{"path":"/tool/marketplace/","title":"Marketplace"}},{"node":{"path":"/tool/infrastructure-modeling/","title":"Infrastructure Modeling (Kubernetes)"}},{"node":{"path":"/tool/google-drive-examples/","title":"Google Drive Examples"}},{"node":{"path":"/tool/event-storming-tool/","title":"EventStorming"}},{"node":{"path":"/tool/development-practice/","title":"Registration Course"}},{"node":{"path":"/tool/cloud-ide-tool/","title":"Cloud IDE"}},{"node":{"path":"/tool/chat-gpt/","title":"Creating Models with ChatGPT"}},{"node":{"path":"/started/domain-driven/","title":"Domain-Driven Design Learning"}},{"node":{"path":"/tool/attending-lectures/","title":"Attending lectures"}},{"node":{"path":"/started/key-features/","title":"Key Features"}},{"node":{"path":"/templates-language/go-template/","title":"Go Template "}},{"node":{"path":"/started/","title":"Introduction"}},{"node":{"path":"/started/event-storming-learning/","title":"Event Storming Learning"}},{"node":{"path":"/templates-language/springboot-java-template/","title":"Spring Boot/Java Template"}},{"node":{"path":"/templates-language/python-template/","title":"Python template "}},{"node":{"path":"/operation/ops-deploy-diagramming-basic-objects/","title":"12st Mall Basic Deploy"}},{"node":{"path":"/operation/ops-deploy-diagramming-advanced-pvc/","title":"Persistent Volume"}},{"node":{"path":"/operation/ops-deploy-diagramming-advanced-istio/","title":"Istio Mesh"}},{"node":{"path":"/operation/ops-deploy-diagramming-advanced-ingress/","title":"Ingress Deployment Model Design"}},{"node":{"path":"/info/pricing/","title":"Pricing"}},{"node":{"path":"/operation/ops-deploy-diagramming-advanced-hpa/","title":"Automatic Scaling (HPA) Deployment"}},{"node":{"path":"/info/partnership/","title":"Partner Program"}},{"node":{"path":"/info/company/","title":"Cases"}},{"node":{"path":"/example-scenario/library-system/","title":"library system"}},{"node":{"path":"/example-scenario/online-lecture/","title":"Internet lecture system"}},{"node":{"path":"/example-scenario/food-delivery/","title":"food delivery"}},{"node":{"path":"/example-scenario/animal-hospital/","title":"Veterinary Practice Management System"}},{"node":{"path":"/development/oauth2with-keycloak/","title":"JWT Token-based Authentication and Authorization"}},{"node":{"path":"/example-scenario/accommodation-reservation/","title":"AirBnB"}},{"node":{"path":"/development/pub-sub/","title":"Pub/Sub Integration"}},{"node":{"path":"/development/monolith-2-misvc/","title":"Request/Response Communication in MSA Integration"}},{"node":{"path":"/development/gateway/","title":"API Gateway"}},{"node":{"path":"/development/dp-cqrs/","title":"Data Projection with CQRS"}},{"node":{"path":"/development/cna-start/","title":"Running Unit Microservices"}},{"node":{"path":"/development/choreography-saga/","title":"Choreography Saga"}},{"node":{"path":"/contact/question/","title":"CONTACT"}},{"node":{"path":"/custom-template/unit-test/","title":"Test Automation"}},{"node":{"path":"/custom-template/template-editor/","title":"Template Editor"}},{"node":{"path":"/custom-template/tutorial/","title":"Concept of Custom Template"}},{"node":{"path":"/custom-template/template-structure/","title":"Template File Structure"}},{"node":{"path":"/custom-template/template-editor-custom-template/","title":"Creating Custom Templates in MSAEZ"}},{"node":{"path":"/custom-template/mock-server/","title":"Open API 3.0-based Mock Server Generation Topping(New)"}},{"node":{"path":"/custom-template/loop-conditional-statement/","title":"Loop & Conditional Statement"}},{"node":{"path":"/custom-template/designing-template/","title":"Developing Custom Template"}},{"node":{"path":"/custom-template/global-helper/","title":"Global Helper"}},{"node":{"path":"/custom-template/helper/","title":"Helper"}},{"node":{"path":"/custom-template/custom-template/","title":"Custom Template Objects"}},{"node":{"path":"/business/","title":"Eventstorming - Shopping Mall"}},{"node":{"path":"/business/eventstorming-fooddelivery/","title":"[이벤트스토밍] - DDD Food Delivery 예제"}},{"node":{"path":"/business/ddd-google-drive/","title":"[이벤트스토밍] - 구글 드라이브 예제"}}]}},"context":{}}